(this["webpackJsonpbase-unit-tools"]=this["webpackJsonpbase-unit-tools"]||[]).push([[0],{115:function(e,t,i){"use strict";i.r(t);var a=i(2),s=i.n(a),l=i(42),n=i.n(l),o=(i(88),i(1)),r=i(22),c=i(20),d=i(71),u=i.n(d),m=i(9),b=i(6),p={"/":{name:"Home",url:"/",icon:b.s,private:!1},explorer:{name:"Explorer",url:"/explorer",description:"View a map of the address, building, and parcel data together.",questions:["Which buildings are linked to that street?"],icon:b.c,private:!1},geocoder:{name:"Geocoder",url:"/geocoder",description:"Locate and attach information to many addresses at once.",questions:["What council district & neighborhood does this address fall in?","We need geographic coordinates for these addresses."],icon:b.H,private:!1},validator:{name:"Validator",description:"A utility to validate an individual address",questions:["Is this is a valid address?"],url:"/validator",icon:b.g,private:!1},mailer:{name:"Mailer",url:"/mailer",description:"Create mailing lists",questions:["I'd like to send a mailing to all owner-occupants in a historic district."],icon:b.o,private:!0},linker:{name:"Linker",url:"/linker",description:"Create or edit links for an existing address",questions:["All these unlinked addresses are driving me crazy?"],icon:b.w,private:!0},assignment:{name:"Assignment",url:"/assignment",description:"Assign a new address",questions:["I need to assign new addresses for a row of townhouses."],icon:b.A,private:!0}},x=p,y=i.p+"static/media/logo.f228ce49.png",f=i(121),g=i(0),j=function(e){var t=e.text,i=e.icon,a=e.onClick,s=e.disabled,l=void 0!==s&&s,n=e.active,o=void 0===n||n,r=e.small,c=void 0!==r&&r,d=e.className,u=void 0===d?"":d,b=e.children;return Object(g.jsxs)("button",{className:o?"flex items-center px-3 py-2 bg-blue-300 font-bold hover:bg-blue-100 "+u:l?"flex items-center px-3 py-2 text-gray-400 bg-blue-200 "+u:"flex items-center px-3 py-2 text-gray-600 font-semibold bg-blue-200 hover:bg-blue-200 "+u,onClick:a,disabled:l,children:[Object(g.jsx)(m.a,{className:c?"text-sm mr-2":"text-lg mr-2",icon:i}),t&&Object(g.jsx)("p",{className:c?"text-sm":"text-lg",children:t}),b]})},h=function(e){var t=e.session,i=e.setSession,s=e.setLogin,l=Object(a.useState)({user:"",pass:""}),n=Object(o.a)(l,2),r=n[0],c=n[1],d=Object(a.useState)(null),u=Object(o.a)(d,2),p=u[0],x=u[1];return Object(g.jsxs)("section",{className:"text-sm w-full md:w-1/2 p-6 bg-gray-100 mt-0 md:mt-12 md:h-96",children:[Object(g.jsxs)("h2",{className:"text-sm flex items-center justify-between",children:[t?"Logged in as ".concat(t.username):"Log in to ArcGIS Online",Object(g.jsx)(m.a,{icon:b.J,onClick:function(){return s(!1)}})]}),!t&&Object(g.jsx)("p",{className:"text-sm py-2",children:"If you are a City of Detroit employee, log in for additional tools and options."}),!t&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{className:"text-sm py-2",children:["Your username will generally end with"," ",Object(g.jsx)("span",{className:"font-bold",children:"_detroitmi"}),". Your username is case-sensitive."]}),Object(g.jsx)("p",{className:"py-2",children:Object(g.jsx)("a",{href:"https://detroitmi.maps.arcgis.com/sharing/rest/oauth2/authorize?client_id=arcgisonline&display=default&response_type=token&state=%7B%22portalUrl%22%3A%22https%3A%2F%2Fdetroitmi.maps.arcgis.com%22%2C%22useLandingPage%22%3Atrue%7D&expiration=20160&locale=en-us&redirect_uri=https%3A%2F%2Fdetroitmi.maps.arcgis.com%2Fhome%2Faccountswitcher-callback.html&force_login=true&hideCancel=true&showSignupOption=true&canHandleCrossOrgSignIn=true&signuptype=esri&redirectToUserOrgUrl=true",children:"Forgotten your password? You can reset it at this link."})})]}),!t&&Object(g.jsxs)("div",{className:"my-2",children:[Object(g.jsxs)("label",{htmlFor:"username",className:"flex items-center justify-between font-bold text-base",children:["Username",Object(g.jsx)("input",{className:"p-2 w-3/4 my-2 text-sm",name:"username",type:"text",value:r.user,onChange:function(e){return c({user:e.target.value,pass:r.pass})}})]}),Object(g.jsxs)("label",{className:"flex items-center justify-between font-bold text-base",htmlFor:"password",children:["Password",Object(g.jsx)("input",{className:"p-2 w-3/4 my-2 text-sm",type:"password",value:r.pass,onChange:function(e){return c({pass:e.target.value,user:r.user})}})]})]}),p&&Object(g.jsxs)("div",{className:"px-8 py-4 my-8 bg-red-200 flex items-center justify-between",children:[Object(g.jsxs)("span",{className:"",children:[Object(g.jsx)(m.a,{icon:b.q,className:"mr-2"}),p.response.error.message," (",p.response.error.details[0],")"]}),Object(g.jsx)(m.a,{icon:b.J,className:"text-xl",onClick:function(){return x(null)}})]}),Object(g.jsx)("div",{className:"flex items-center justify-around",children:Object(g.jsx)(j,{className:"px-2 md:px-8 py-1 md:py-4 mt-4 w-1/2 justify-center",active:""!==r.user&&""!==r.pass,onClick:function(){var e=new f.a({username:r.user,password:r.pass});e.getToken("https://detroitmi.maps.arcgis.com/arcgis/rest/sharing").then((function(t){i(e),s(!1)})).catch((function(e){return x(e)}))},icon:b.D,text:"Log in"})})]})},O=i(23),v=i.n(O),_=function(e){var t=e.session,i=e.setSession,s=e.login,l=e.setLogin,n=(e.currentApp,e.children,Object(a.useState)(!1)),c=Object(o.a)(n,2),d=c[0],u=c[1];return s?s?Object(g.jsx)("div",{className:"absolute w-full h-3/4 z-20 bg-gray-800 bg-opacity-90 flex justify-around",children:Object(g.jsx)(h,{session:t,setSession:i,setLogin:l})}):void 0:Object(g.jsxs)("header",{children:[Object(g.jsxs)("div",{className:"flex items-center justify-between",style:{borderBottom:"5px solid rgb(254, 183, 13)"},children:[Object(g.jsx)("img",{src:y,className:"h-6 md:h-8 m-1",alt:"City logo"}),Object(g.jsx)("h1",{className:"w-full font-black text-base md:text-xl ml-1 -mb-1",children:"Base Unit Tools"}),Object(g.jsx)("div",{className:"flex items-center",onClick:function(){return u(!d)},children:Object(g.jsx)(m.a,{icon:b.e,className:"mr-3 text-xl md:text-2xl hover:text-gray-500",style:{cursor:"pointer"}})})]}),Object(g.jsxs)(v.a,{duration:150,height:d?"auto":0,children:[Object(g.jsxs)("div",{className:t?"w-100 flex items-center justify-between bg-blue-100 py-1 md:py-1 px-2 md:px-4 text-xs md:text-sm":"w-100 flex items-center justify-between bg-red-100 py-1 md:py-1 px-2 md:px-4 text-xs md:text-sm",onClick:function(){return!t&&l(!0)},children:[Object(g.jsx)("span",{className:"leading-none text-gray-700",children:t?Object(g.jsxs)("div",{children:["You are logged in as: ",Object(g.jsx)("b",{children:t.username})]}):"Sign in with your ArcGIS Online account."}),Object(g.jsxs)("span",{className:"leading-none text-gray-500 ml-2 flex items-center font-bold justify-around",onClick:function(){return t&&i(null)},children:[t?"Log out":"Log in",Object(g.jsx)(m.a,{icon:t?b.E:b.D,className:"text-xl md:text-2xl ml-2 hover:text-black",style:{cursor:"pointer"}})]})]}),Object.keys(x).map((function(e){return t||!t&&!x[e].private?Object(g.jsxs)("div",{className:"flex items-center bg-gray-100 py-1 border-b-2 border-gray-200",children:[Object(g.jsx)("div",{className:"w-12 flex items-center justify-around",children:Object(g.jsx)(m.a,{icon:x[e].icon,className:"mx-3 text-xl h-8"})}),Object(g.jsx)(r.Link,{to:x[e].url,children:Object(g.jsx)("h2",{className:"text-sm md:text-base",children:x[e].name})})]}):void 0}))]})]})},w=function(e){e.title;var t=e.children;return Object(g.jsx)("sidebar",{is:"section",className:"items-start overflow-y-auto pr-2 md:pr-0",children:t})},z={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gridAutoRows:150,gridGap:".75rem"},S=function(e){var t=e.session,i=e.setSession,a=e.login,s=e.setLogin;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_,{session:t,setSession:i,login:a,setLogin:s}),Object(g.jsx)(w,{title:"Home",children:Object(g.jsxs)("section",{className:"sidebar-section",children:[Object(g.jsx)("h2",{className:"mb-2",children:"Welcome to the Base Units Tools site"}),Object(g.jsx)("p",{className:"mb-2",children:"Base Units are the fundamental units of measurement we use to describe our city."}),Object(g.jsxs)("p",{children:[Object(g.jsx)("a",{href:"https://base-units-detroitmi.hub.arcgis.com/",children:"Learn more about them at our Hub Site"}),"."]})]})}),Object(g.jsxs)("main",{children:[Object(g.jsxs)("section",{className:"sidebar-section my-2",children:[Object(g.jsx)("h2",{children:"Base unit tools"}),Object(g.jsx)("p",{children:"List of base unit tools"})]}),Object(g.jsx)("div",{style:z,children:Object.values(p).slice(1).map((function(e){return t||!t&&!e.private?Object(g.jsxs)("div",{className:"bg-gray-200 p-4",children:[Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)(m.a,{icon:e.icon,size:"2x",className:"mr-3"}),Object(g.jsx)(r.Link,{to:".".concat(e.url),children:Object(g.jsx)("p",{className:"text-xl font-bold",children:e.name})})]}),Object(g.jsx)("p",{className:"my-4",children:e.description})]},e.name):void 0}))})]})]})},N=function(e){var t=e.app,i=e.introduction,s=void 0!==i&&i,l=e.introOpen,n=void 0===l||l,r=e.children,c=Object(a.useState)(!!r),d=Object(o.a)(c,2),u=d[0],p=d[1],x=Object(a.useState)(!(!s||!n)),y=Object(o.a)(x,2),f=y[0],j=y[1];return Object(g.jsxs)("div",{style:{gridArea:"ah"},className:"mb-0 md:mb-2",children:[Object(g.jsxs)("div",{className:"flex items-center bg-gray-300 justify-between",children:[Object(g.jsxs)("div",{className:"flex items-center px-2 py-2 md:px-3",children:[Object(g.jsx)(m.a,{icon:t.icon,className:"text-base md:text-2xl"}),Object(g.jsx)("h2",{className:"text-sm md:text-lg ml-2 md:ml-3",children:Object(g.jsx)("b",{children:t.name})})]}),Object(g.jsxs)("div",{className:"flex items-center gap-4 mr-2",children:[s&&Object(g.jsx)("div",{className:"hover:text-gray-500 hover:bg-opacity-20 rounded",onClick:function(){return j(!f)},children:Object(g.jsx)(m.a,{icon:b.u,className:f?"text-gray-800 text-base md:text-xl cursor-pointer":"text-gray-500 text-base md:text-xl cursor-pointer"})}),r&&Object(g.jsx)("div",{className:"hover:text-gray-500 hover:bg-opacity-20 rounded",onClick:function(){return p(!u)},children:Object(g.jsx)(m.a,{icon:b.j,className:u?"text-gray-800 text-base md:text-xl cursor-pointer":"text-gray-500 text-base md:text-xl cursor-pointer"})})]})]}),Object(g.jsx)(v.a,{duration:250,height:f?"auto":0,children:Object(g.jsx)("section",{className:"px-3 md:px-4 py-2 md:py-3 bg-gray-100 app-intro text-sm md:text-base",children:s})}),Object(g.jsx)(v.a,{duration:250,height:u?"auto":0,children:Object(g.jsx)("section",{className:"p-2 md:p-3 bg-gray-100",children:r})})]})},R="https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/ExtendedTablesWithIndices/FeatureServer/",k={addresses:{name:"addresses",singular:"address",label:"Address Point",endpoint:R+"4",id_column:"addr_id",click:"id",interaction:"address-point",highlight:"address-highlight",link:"address-linked",filter_id:"addr_id",text_color:"#555",color:"rgb(170, 200, 221)"},buildings:{name:"buildings",singular:"building",label:"Building",endpoint:R+"3",id_column:"bldg_id",interaction:"building-fill",click:"bldg_id",color:"rgb(203, 77, 79)",text_color:"#eee",filter_id:"bldg_id",highlight:"building-highlight",link:"building-linked"},parcels:{name:"parcels",singular:"parcel",label:"Parcel",endpoint:R+"1",id_column:"parcel_id",interaction:"parcel-fill",click:"parcel_id",color:"rgb(163, 200, 112)",text_color:"#555",filter_id:"parcel_id",highlight:"parcel-highlight",link:"parcel-linked"},streets:{name:"streets",singular:"street",label:"Street",endpoint:R+"2",id_column:"street_id",interaction:"streets-line",click:"street_id",highlight:"streets-highlight",link:"streets-linked",filter_id:"street_id",color:"rgb(148, 70, 109)",text_color:"#eee"},units:{name:"units",singular:"unit",label:"Unit",endpoint:R+"0",id_column:"objectid",interaction:"units-point",click:"unit_id",highlight:"units-highlight",link:"units-linked",color:"rgb(46, 55, 97)",text_color:"#eee"}},F=function(e){var t=e.value,i=e.className,a=void 0===i?null:i,s=e.icon,l=void 0===s?b.k:s;return Object(g.jsx)(m.a,{icon:l,className:a||"text-gray-400 hover:text-gray-500",onClick:function(){return navigator.clipboard.writeText(t)}})},A=function(e){var t=e.layer,i=e.id,a=e.link,s=void 0===a||a,l=e.copy,n=void 0!==l&&l,o=e.setClicked;return Object(g.jsx)("div",{className:"flex items-center text-xs md:text-sm px-2",style:{background:t.color,color:t.text_color},children:Object(g.jsxs)("pre",{className:"font-bold flex items-center py-1",style:{background:t.color,color:t.text_color},children:["Parcel"===t.label?null:"#",i,s&&Object(g.jsx)(m.a,{icon:b.b,className:"ml-2 text-lg",onClick:function(){return o({type:t.name,id:i})}}),n&&Object(g.jsx)(F,{value:i,className:"ml-1"})]})})},C=function(e){var t=e.attr,i=e.attributes,s=e.longAttributes,l=void 0===s?{}:s,n=e.clicked,r=k[(void 0===n?null:n).type],c=Object(a.useState)(!0),d=Object(o.a)(c,2),u=d[0],p=d[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"bg-gray-300 p-2 text-xs font-bold flex items-center justify-between",style:{borderLeft:"8px solid ".concat(r.color)},children:[Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)("h2",{className:"text-sm md:text-lg mr-3",children:r.label}),Object(g.jsx)(A,{id:t[r.id_column],layer:r,link:!1}),Object(g.jsx)(m.a,{icon:b.w,className:"ml-2 text-gray-400 hover:text-gray-500"})]}),Object(g.jsx)("div",{className:"flex items-center",children:Object(g.jsx)(m.a,{icon:u?b.h:b.i,className:"mx-2 text-gray-500 text-xl",onClick:function(){return p(!u)}})})]}),Object(g.jsx)(v.a,{duration:250,height:u?"auto":0,children:Object(g.jsxs)("section",{className:"sidebar-section",style:{borderLeft:"8px solid ".concat(r.color)},children:[Object(g.jsx)("table",{className:"w-full",children:Object(g.jsx)("tbody",{children:Object.keys(i).map((function(e,t){return Object(g.jsxs)("tr",{className:t+1===Object.keys(i).length?"flex items-center":"border-b-2 border-gray-400 flex items-center",children:[Object(g.jsx)("td",{className:"w-1/3 md:w-2/5 my-2 font-bold text-xs md:text-sm ",children:e}),Object(g.jsxs)("td",{className:"text-xs md:text-sm flex w-2/3 md:w-3/5 my-2 justify-between items-center pr-2",children:[i[e],i[e]&&""!==i[e]&&Object(g.jsx)(F,{value:i[e],className:"text-gray-300 hover:text-gray-400"})]})]},t)}))})}),Object.keys(l).length>0&&Object.keys(l).map((function(e,t){return Object(g.jsxs)("div",{style:{paddingLeft:2},children:[Object(g.jsxs)("div",{className:0===t?"border-t-2 border-gray-400 text-xs md:text-sm py-2 pr-2 flex items-center justify-between":"text-xs md:text-sm py-2 pr-2 flex items-center justify-between",children:[Object(g.jsx)("span",{className:"font-bold",children:e}),Object(g.jsx)(F,{value:l[e],className:"text-gray-300 hover:text-gray-400"})]}),Object(g.jsx)("p",{className:"px-1 md:px-2 text-xs md:text-sm leading-4",children:l[e]})]},t)}))]})})]})},B=function(e){var t=e.feature,i=e.clicked,s=e.setClicked,l=(e.linked,e.setLinked),n=t.attributes,o={"Street Number":n.street_number,"Street Prefix":n.street_prefix,"Street Name":n.street_name,"Street Type":n.street_type,"Unit Type":n.unit_type,"Unit Number":n.unit_number};return Object(a.useEffect)((function(){t&&l({addresses:[],parcels:[t.attributes.parcel_id],buildings:[t.attributes.bldg_id],streets:[t.attributes.street_id]})}),[t,l]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{attr:n,attributes:o,clicked:i}),n.parcel_id?Object(g.jsx)("section",{className:"sidebar-section",style:{borderLeft:"8px solid ".concat(k.parcels.color)},children:Object(g.jsxs)("div",{className:"flex items-center justify-between",children:[Object(g.jsx)("h2",{className:"text-sm md:text-base",children:"linked to parcel:"}),Object(g.jsx)(A,{layer:k.parcels,id:n.parcel_id,setClicked:s,link:!0})]})}):Object(g.jsxs)("section",{className:"sidebar-section warning flex items-center",children:[Object(g.jsx)(m.a,{icon:b.p,className:"mr-3"}),Object(g.jsx)("p",{className:"font-semibold",children:"There is no linked parcel for this address!"})]}),n.bldg_id&&Object(g.jsx)("section",{className:"sidebar-section",style:{borderLeft:"8px solid ".concat(k.buildings.color)},children:Object(g.jsxs)("div",{className:"flex items-center justify-between",children:[Object(g.jsx)("h2",{className:"text-sm md:text-base",children:"linked to building:"}),Object(g.jsx)(A,{layer:k.buildings,id:n.bldg_id,setClicked:s,link:!0})]})}),n.street_id?Object(g.jsx)("section",{className:"sidebar-section",style:{borderLeft:"8px solid ".concat(k.streets.color)},children:Object(g.jsxs)("div",{className:"flex items-center justify-between",children:[Object(g.jsx)("h2",{className:"text-sm md:text-base",children:"linked to street:"}),Object(g.jsx)(A,{layer:k.streets,id:n.street_id,setClicked:s,link:!0})]})}):Object(g.jsx)("section",{className:"sidebar-section warning flex items-center justify-between",children:Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)(m.a,{icon:b.p,className:"mr-3"}),Object(g.jsx)("p",{className:"font-semibold",children:"There is no linked street for this address!"})]})})]})},L=i(72),E=function(e){var t=e.layer;return Object(g.jsx)("span",{className:"font-semibold text-gray-500 bg-gray-300 py-1 px-2 ml-2 text-xs",children:t})},P=function(e){var t=e.addresses,i=e.setClicked,s=e.title,l=void 0===s?null:s,n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});t=t.sort((function(e,t){return n.compare(t.unit_number,e.unit_number)})).sort((function(e,t){return e.street_number-t.street_number>-1})).sort((function(e,t){return n.compare(t.street_name,e.street_name)}));var r=Object(a.useState)(!(t.length>2)),c=Object(o.a)(r,2),d=c[0],u=c[1];return Object(g.jsxs)("section",{className:"sidebar-section",style:{maxHeight:"50vh",borderLeft:"8px solid ".concat(k.addresses.color)},children:[Object(g.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(g.jsxs)("h2",{className:"text-sm md:text-base",children:[t.length," linked ",l," address",t.length>1?"es:":":"]}),Object(g.jsx)(m.a,{icon:d?b.h:b.i,className:"text-gray-500 text-xl mr-2",onClick:function(){return u(!d)}})]}),Object(g.jsx)(v.a,{duration:150,height:d?"auto":0,className:"overflow-y-auto max-h-64",children:t.map((function(e,a){return Object(g.jsxs)("div",{className:a+1<t.length?"py-1 flex items-center justify-between border-b-2":"py-1 flex items-center justify-between",children:[Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsxs)("span",{className:"tabular-nums",children:[e.street_number," ",e.street_prefix," ",e.street_name," ",e.street_type," ",e.unit_type," ",e.unit_number]}),Object(g.jsx)(E,{layer:e.geo_source})]}),Object(g.jsx)(A,{id:e.addr_id,layer:k.addresses,setClicked:i,link:!0})]},e.addr_id)}))})]})},T=function(e){var t=e.feature,i=e.clicked,s=e.setClicked,l=(e.linked,e.setLinked),n=t.attributes,r={"Use type":n.use_category,"Building type":n.ted_build_type,"SEMCOG building type":L[n.semcog_build_type],"SEMCOG unit count":n.semcog_housing_units},c=Object(a.useState)([]),d=Object(o.a)(c,2),u=d[0],m=d[1];return Object(a.useEffect)((function(){var e=k.addresses.endpoint+"/query?",t={where:"bldg_id = ".concat(n.bldg_id),outFields:"*",outSR:4326,f:"pjson"},i=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&");fetch(e+i).then((function(e){return e.json()})).then((function(e){Object.keys(e).indexOf("features")>-1&&(e.features.length>0?(m(e.features.map((function(e){return e.attributes}))),l({buildings:[],addresses:e.features.map((function(e){return e.attributes.addr_id})),streets:Array.from(new Set(e.features.map((function(e){return e.attributes.street_id})))),parcels:Array.from(new Set(e.features.map((function(e){return e.attributes.parcel_id}))))})):(m([]),l({buildings:[],addresses:[],streets:[],parcels:[]})))}))}),[n.bldg_id,l]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{attr:n,attributes:r,clicked:i}),Object(g.jsx)("section",{className:"sidebar-section",style:{borderLeft:"4px solid ".concat(k.parcels.color)},children:Object(g.jsxs)("div",{className:"flex items-center justify-between",children:[Object(g.jsx)("h2",{className:"text-sm md:text-base",children:"linked to parcel:"}),Object(g.jsx)(A,{id:n.parcel_id,layer:k.parcels,link:!0,setClicked:s})]})}),u.length>0&&Object(g.jsx)(P,{addresses:u,setClicked:s})]})},V=i(32),D=i.n(V),M=i(19),W=i(27),I=i(24),U=i.n(I),H={version:8,sprite:"https://cdn.arcgis.com/sharing/rest/content/items/273bf8d5c8ac400183fc24e109d20bcf/resources/styles/../sprites/sprite",glyphs:"https://basemaps.arcgis.com/arcgis/rest/services/World_Basemap_v2/VectorTileServer/resources/fonts/{fontstack}/{range}.pbf",sources:{esri:{type:"vector",tiles:["https://basemaps.arcgis.com/arcgis/rest/services/World_Basemap_v2/VectorTileServer/tile/{z}/{y}/{x}.pbf"]},baseunits:{type:"vector",tiles:["https://tiles.arcgis.com/tiles/qvkbeam7Wirps6zC/arcgis/rest/services/BaseUnitVectorTiles/VectorTileServer/tile/{z}/{y}/{x}.pbf"]},satellite:{type:"raster",tiles:["https://tiles.arcgis.com/tiles/qvkbeam7Wirps6zC/arcgis/rest/services/MiSAIL_2020_6in_Clip_webMerc/MapServer/tile/{z}/{y}/{x}"]},"linen-map":{type:"raster",tiles:["https://tiles.arcgis.com/tiles/qvkbeam7Wirps6zC/arcgis/rest/services/Linen_Map_Mosaic/MapServer/tile/{z}/{y}/{x}"]},result:{type:"geojson",data:{type:"FeatureCollection",features:[]}},"new-point":{type:"geojson",data:{type:"FeatureCollection",features:[]}},mly:{type:"vector",tiles:["https://tiles.mapillary.com/maps/vtp/mly1_computed_public/2/{z}/{x}/{y}?access_token=MLY|4690399437648324|de87555bb6015affa20c3df794ebab15"],maxzoom:14,minzoom:14}},layers:[{id:"satellite",type:"raster",source:"satellite",minzoom:0,maxzoom:22,paint:{"raster-opacity":1,"raster-saturation":-.75},layout:{visibility:"none"}},{id:"linen-map",type:"raster",source:"linen-map",minzoom:0,maxzoom:22,paint:{"raster-opacity":1,"raster-saturation":-.75},layout:{visibility:"none"}},{id:"Land/Not ice",type:"fill",source:"esri","source-layer":"Land",filter:["==","_symbol",0],minzoom:0,layout:{},paint:{"fill-color":{stops:[[0,"#dce0ca"],[10,"#E6E5D6"],[15,"#f2eee9"]]}}},{id:"Land/Ice",type:"fill",source:"esri","source-layer":"Land",filter:["==","_symbol",1],minzoom:0,layout:{},paint:{"fill-color":"#E6E5D6"}},{id:"Urban area",type:"fill",source:"esri","source-layer":"Urban area",minzoom:5,maxzoom:15,layout:{},paint:{"fill-color":{stops:[[5,"#e3dfdc"],[10,"#ECE8E3"],[15,"#f2eee9"]]},"fill-antialias":!1}},{id:"Water line small scale",type:"line",source:"esri","source-layer":"Water line small scale",minzoom:1,maxzoom:5,layout:{"line-join":"round"},paint:{"line-color":{stops:[[1,"#B7D7D9"],[10.6,"#6BC4F0"]]},"line-width":{base:1.2,stops:[[1,.5],[5,.5]]}}},{id:"Water line medium scale",type:"line",source:"esri","source-layer":"Water line medium scale",minzoom:5,maxzoom:7,layout:{"line-join":"round"},paint:{"line-color":{stops:[[1,"#B7D7D9"],[10.6,"#6BC4F0"]]},"line-width":{base:1.2,stops:[[5,.5],[7,.7]]}}},{id:"Water line large scale",type:"line",source:"esri","source-layer":"Water line large scale",minzoom:7,maxzoom:11,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[1,"#B7D7D9"],[10.6,"#6BC4F0"]]},"line-width":{base:1.2,stops:[[7,.5],[11,.7]]}}},{id:"Water line/Waterfall",type:"line",source:"esri","source-layer":"Water line",filter:["==","_symbol",5],minzoom:11,layout:{"line-join":"round"},paint:{"line-color":"#6BC4F0","line-width":.8,"line-dasharray":[5,5]}},{id:"Water line/Dam or weir",type:"line",source:"esri","source-layer":"Water line",filter:["==","_symbol",2],minzoom:11,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#afafaf","line-width":{base:1.2,stops:[[11,.7],[14,.7],[17,2]]}}},{id:"Water line/Levee/1",type:"line",source:"esri","source-layer":"Water line",filter:["==","_symbol",3],minzoom:11,layout:{"line-join":"round"},paint:{"line-color":"#c3c3c3","line-width":{base:1.2,stops:[[11,.7],[14,.7],[20,2.5]]}}},{id:"Water line/Levee/0",type:"symbol",source:"esri","source-layer":"Water line",filter:["==","_symbol",3],minzoom:13,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"icon-image":"Water line/Levee/0","symbol-spacing":13.3,"icon-rotation-alignment":"map","icon-allow-overlap":!0,"icon-padding":1},paint:{}},{id:"Water line/Canal or ditch",type:"line",source:"esri","source-layer":"Water line",filter:["==","_symbol",1],minzoom:11,layout:{"line-cap":"round"},paint:{"line-color":"#6BC4F0","line-width":{base:1.2,stops:[[11,.7],[14,.7],[17,2]]}}},{id:"Water line/Stream or river intermittent",type:"line",source:"esri","source-layer":"Water line",filter:["==","_symbol",4],minzoom:11,layout:{},paint:{"line-color":"#6BC4F0","line-dasharray":[7,3],"line-width":{base:1.2,stops:[[11,.7],[14,.7],[17,2]]}}},{id:"Water line/Stream or river",type:"line",source:"esri","source-layer":"Water line",filter:["==","_symbol",0],minzoom:11,layout:{"line-cap":"round"},paint:{"line-color":"#6BC4F0","line-width":{base:1.2,stops:[[11,.7],[14,.7],[17,2]]}}},{id:"Marine area/1",type:"fill",source:"esri","source-layer":"Marine area",minzoom:0,layout:{},paint:{"fill-color":{stops:[[5,"#53B9EA"],[10.6,"#6BC4F0"]]},"fill-antialias":!1}},{id:"Bathymetry/depth 2 (shallow water)",type:"fill",source:"esri","source-layer":"Bathymetry",filter:["==","_symbol",0],maxzoom:11,layout:{},paint:{"fill-color":{stops:[[5,"#5BBDEC"],[10.6,"#6BC4F0"]]},"fill-antialias":!1}},{id:"Bathymetry/depth 3",type:"fill",source:"esri","source-layer":"Bathymetry",filter:["==","_symbol",1],maxzoom:11,layout:{},paint:{"fill-color":{stops:[[5,"#63C0EE"],[10.6,"#6BC4F0"]]},"fill-antialias":!1}},{id:"Bathymetry/depth 4",type:"fill",source:"esri","source-layer":"Bathymetry",filter:["==","_symbol",2],maxzoom:11,layout:{},paint:{"fill-color":{stops:[[5,"#6BC4F0"],[10.6,"#6BC4F0"]]},"fill-antialias":!1}},{id:"Bathymetry/depth 5",type:"fill",source:"esri","source-layer":"Bathymetry",filter:["==","_symbol",3],maxzoom:11,layout:{},paint:{"fill-color":{stops:[[5,"#72C8F1"],[10.6,"#6BC4F0"]]},"fill-antialias":!1}},{id:"Bathymetry/depth 6",type:"fill",source:"esri","source-layer":"Bathymetry",filter:["==","_symbol",4],maxzoom:11,layout:{},paint:{"fill-color":{stops:[[5,"#7ACBF3"],[10.6,"#6BC4F0"]]},"fill-antialias":!1}},{id:"Bathymetry/depth 7 (deep water)",type:"fill",source:"esri","source-layer":"Bathymetry",filter:["==","_symbol",5],maxzoom:11,layout:{},paint:{"fill-color":{stops:[[5,"#82CFF5"],[10.6,"#6BC4F0"]]},"fill-antialias":!1}},{id:"Water area small scale",type:"fill",source:"esri","source-layer":"Water area small scale",minzoom:1,maxzoom:5,layout:{},paint:{"fill-color":{stops:[[5,"#53B9EA"],[10.6,"#6BC4F0"]]},"fill-outline-color":"#53B9EA"}},{id:"Water area medium scale/Lake intermittent",type:"fill",source:"esri","source-layer":"Water area medium scale",filter:["==","_symbol",1],minzoom:5,maxzoom:7,layout:{},paint:{"fill-pattern":"Water area/Lake or river intermittent"}},{id:"Water area medium scale/Lake or river",type:"fill",source:"esri","source-layer":"Water area medium scale",filter:["==","_symbol",0],minzoom:5,maxzoom:7,layout:{},paint:{"fill-color":{stops:[[5,"#53B9EA"],[10.6,"#6BC4F0"]]},"fill-outline-color":"#53B9EA"}},{id:"Water area large scale/Lake intermittent",type:"fill",source:"esri","source-layer":"Water area large scale",filter:["==","_symbol",1],minzoom:7,maxzoom:11,layout:{},paint:{"fill-pattern":"Water area/Lake or river intermittent"}},{id:"Water area large scale/Lake or river",type:"fill",source:"esri","source-layer":"Water area large scale",filter:["==","_symbol",0],minzoom:7,maxzoom:11,layout:{},paint:{"fill-color":{stops:[[5,"#53B9EA"],[10.6,"#6BC4F0"]]},"fill-outline-color":{stops:[[8,"#53B9EA"],[9,"#6BC4F0"]]}}},{id:"Water area/Lake, river or bay",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",7],minzoom:11,layout:{},paint:{"fill-color":"#6BC4F0","fill-outline-color":"#6BC4F0"}},{id:"Water area/Lake or river intermittent",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",6],minzoom:11,layout:{},paint:{"fill-pattern":"Water area/Lake or river intermittent"}},{id:"Water area/Inundated area",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",4],minzoom:11,layout:{},paint:{"fill-pattern":"Water area/Inundated area"}},{id:"Water area/Swamp or marsh",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",3],minzoom:11,layout:{},paint:{"fill-pattern":"Water area/Swamp or marsh","fill-opacity":.45}},{id:"Water area/Playa",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",1],minzoom:11,layout:{},paint:{"fill-pattern":"Water area/Playa"}},{id:"Water area/Ice mass",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",2],minzoom:11,layout:{},paint:{"fill-pattern":"Water area/Ice mass","fill-opacity":.5}},{id:"Water area/Dam or weir",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",5],minzoom:11,layout:{},paint:{"fill-color":"#e5e5dd","fill-outline-color":"#d9d9d1"}},{id:"Special area of interest/Bike, walk or pedestrian/line",type:"line",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",2],minzoom:15,layout:{},paint:{"line-color":"#bcb7ae","line-width":{stops:[[15,1.1],[22,10]]},"line-blur":{stops:[[15,1],[22,5]]}}},{id:"Special area of interest/Bike, walk or pedestrian",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",2],minzoom:15,layout:{},paint:{"fill-color":"#E8E7E5","fill-outline-color":"#dbd9d5"}},{id:"Special area of interest/Bike, walk or pedestrian/pattern",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",2],minzoom:15,layout:{},paint:{"fill-pattern":"Special area of interest/Small stipple"}},{id:"Special area of interest/Water",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",7],minzoom:14,layout:{visibility:"none"},paint:{"fill-color":"#6BC4F0"}},{id:"Special area of interest/Water/line",type:"line",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",7],minzoom:14,layout:{visibility:"none"},paint:{"line-color":"#5db6e2","line-width":{stops:[[15,1.1],[22,7]]},"line-blur":{stops:[[15,1],[22,3.5]]}}},{id:"Ferry/Ferry",type:"line",source:"esri","source-layer":"Ferry",filter:["all",["==","_symbol",0],["!in","Viz",2]],minzoom:11,layout:{"line-join":"round"},paint:{"line-color":"#c1e1f0","line-opacity":.8,"line-width":{base:1.2,stops:[[11,1.3],[14,1.5],[17,1.5]]},"line-dasharray":[3,4]}},{id:"Railroad/2",type:"line",source:"esri","source-layer":"Railroad",minzoom:11,layout:{"line-join":"round"},paint:{"line-color":{stops:[[11,"#dedcd9"],[17,"#B8B1AA"]]},"line-width":{base:1.2,stops:[[11,2.5],[14,2.5],[17,4]]}}},{id:"Railroad/1",type:"line",source:"esri","source-layer":"Railroad",minzoom:11,layout:{"line-join":"round"},paint:{"line-dasharray":[6,7.5],"line-color":{stops:[[11,"#E3E0D7"],[17,"#DBD8CB"]]},"line-width":{base:1.2,stops:[[11,.75],[15,.75],[17,2]]}}},{id:"Ferry/Rail ferry/2",type:"line",source:"esri","source-layer":"Ferry",filter:["all",["==","_symbol",1],["!in","Viz",2]],minzoom:11,layout:{"line-join":"round"},paint:{"line-color":{stops:[[11,"#dedcd9"],[17,"#B8B1AA"]]},"line-width":{base:1.2,stops:[[11,2.5],[14,2.5],[17,4]]}}},{id:"Ferry/Rail ferry/1",type:"line",source:"esri","source-layer":"Ferry",filter:["all",["==","_symbol",1],["!in","Viz",2]],minzoom:11,layout:{"line-join":"round"},paint:{"line-dasharray":[6,7.5],"line-color":{stops:[[11,"#E3E0D7"],[17,"#DBD8CB"]]},"line-width":{base:1.2,stops:[[11,.75],[15,.75],[17,2]]}}},{id:"Special area of interest line/Sports field",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",6],minzoom:15,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#e3e0da","line-opacity":.8,"line-width":{base:1.2,stops:[[15,.5],[20,4]]}}},{id:"Road/4WD/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",10],["!in","Viz",2]],minzoom:13,layout:{"line-join":"round"},paint:{"line-color":"#e3e1dc","line-dasharray":[2,1],"line-width":{base:1.2,stops:[[11,1.5],[14,2.3],[17,8.3],[20,50]]}}},{id:"Road/Minor, ramp or traffic circle/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",6],["!in","Viz",2]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#E2DFD6"],[10,"#dedbd1"],[12,"#e3e1dc"]]},"line-width":{base:1.2,stops:[[9.9,1],[14,4],[16,11.5],[17,19],[20,58]]}}},{id:"Road/Minor/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",5],["!in","Viz",2]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#E2DFD6"],[10,"#dedbd1"],[12,"#e3e1dc"]]},"line-width":{base:1.2,stops:[[9,1],[10,3.3],[14,5.5],[16,11.5],[17,19],[20,58]]}}},{id:"Road/Major, ramp or traffic circle/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",4],["!in","Viz",2]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#dedbd1"],[12,"#e3e1dc"]]},"line-width":{base:1.2,stops:[[9,3.3],[14,7.3],[16,12.3],[17,22],[20,63]]}}},{id:"Road/Major/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",3],["!in","Viz",2]],minzoom:8,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[8,"#dedbd1"],[12,"#e3e1dc"]]},"line-width":{base:1,stops:[[8,3.3],[14,7.3],[16,12.3],[17,22],[20,63]]}}},{id:"Road/Service/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",8],["!in","Viz",2]],minzoom:13,layout:{visibility:"none","line-cap":"round","line-join":"round"},paint:{"line-color":"#e3e1dc","line-width":{base:1.2,stops:[[11,2],[14,2.5],[17,10.3],[20,45]]}}},{id:"Trail or path/1",type:"line",source:"esri","source-layer":"Trail or path",minzoom:15,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[15,"#dddbd5"],[17,"#e3e1dc"]]},"line-width":{base:1.2,stops:[[15,2.5],[16,3],[17,5],[20,20],[22,31]]}}},{id:"Road/Pedestrian/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",9],["!in","Viz",2]],minzoom:15,layout:{visibility:"none","line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[15,"#dddbd5"],[17,"#e3e1dc"]]},"line-width":{base:1.2,stops:[[15,2.5],[16,3],[17,5],[20,20],[22,31]]}}},{id:"Road/Local/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",7],["!in","Viz",2]],minzoom:12,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#e3e1dc","line-width":{base:1.4,stops:[[11,1.1],[14,3],[16,8],[17,16],[20,48]]}}},{id:"Trail or path/0",type:"line",source:"esri","source-layer":"Trail or path",minzoom:15,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[15,"#f8f8f7"],[18,"#ffffff"]]},"line-dasharray":{stops:[[15,[3,3]],[17,[2,2]]]},"line-width":{base:1.2,stops:[[15,1.3],[17,2.5]]}}},{id:"Road/Pedestrian/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",9],["!in","Viz",2]],minzoom:15,layout:{visibility:"none","line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[15,"#f8f8f7"],[18,"#ffffff"]]},"line-dasharray":{stops:[[15,[3,3]],[17,[2,2]]]},"line-width":{base:1.2,stops:[[15,1.3],[17,2.5]]}}},{id:"Road/4WD/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",10],["!in","Viz",2]],minzoom:13,layout:{"line-join":"round"},paint:{"line-color":"#FFFFFF","line-width":{base:1.2,stops:[[11,.75],[14,1.3],[17,7.3],[20,48]]}}},{id:"Road/Service/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",8],["!in","Viz",2]],minzoom:13,layout:{visibility:"none","line-cap":"round","line-join":"round"},paint:{"line-color":"#FFFFFF","line-width":{base:1.2,stops:[[11,.75],[14,1.3],[17,8.3],[20,43]]}}},{id:"Road/Local/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",7],["!in","Viz",2]],minzoom:12,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[12,"#fcfbf9"],[13,"#ffffff"]]},"line-width":{base:1.4,stops:[[11,1.1],[14,2],[16,6],[17,14],[20,45]]}}},{id:"Road/Minor, ramp or traffic circle/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",6],["!in","Viz",2]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#f0efea"],[13,"#ffffff"]]},"line-width":{base:1.2,stops:[[9,.75],[14,2],[16,9.5],[17,17],[20,55]]}}},{id:"Road/Minor/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",5],["!in","Viz",2]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#f0efea"],[13,"#ffffff"]]},"line-width":{base:1.2,stops:[[9,1.3],[14,4.5],[16,9.5],[17,17],[20,55]]}}},{id:"Road/Major, ramp or traffic circle/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",4],["!in","Viz",2]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#f0efea"],[13,"#ffffff"]]},"line-width":{base:1.2,stops:[[9,1.3],[14,5.3],[16,10.3],[17,20],[20,60]]}}},{id:"Road/Major/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",3],["!in","Viz",2]],minzoom:8,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#f0efea"],[13,"#ffffff"]]},"line-width":{base:1.2,stops:[[8,1.3],[14,5.3],[16,10.3],[17,20],[20,60]]}}},{id:"Road/Freeway Motorway, ramp or traffic circle/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",2],["!in","Viz",2]],minzoom:6,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ffffff","line-width":{base:1.2,stops:[[9,.3],[14,8.3],[16,14.3],[17,30],[20,52]]}}},{id:"Road/Highway/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",1],["!in","Viz",2]],minzoom:6,layout:{"line-join":"round"},paint:{"line-color":"#ffffff","line-width":{base:1.2,stops:[[6,.3],[14,8.3],[16,14.3],[17,30],[20,52]]}}},{id:"Road/Freeway Motorway/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",0],["!in","Viz",2]],minzoom:5,layout:{"line-join":"round"},paint:{"line-color":"#ffffff","line-width":{base:1.2,stops:[[5,.3],[14,8.3],[16,14.3],[17,30],[20,52]]}}},{id:"Road/Freeway Motorway, ramp or traffic circle/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",2],["!in","Viz",2]],minzoom:6,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":{stops:[[6,"#F6CA91"],[8,"#F6CA91"],[12,"#F6CA91"]]},"line-width":{base:1.2,stops:[[9,.7],[14,6.3],[16,12.3],[17,28],[20,50]]}}},{id:"Road/Highway/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",1],["!in","Viz",2]],minzoom:6,layout:{"line-join":"round"},paint:{"line-color":{stops:[[6,"#F6CA91"],[8,"#F6CA91"],[12,"#F6CA91"]]},"line-width":{base:1.2,stops:[[6,.7],[14,6.3],[16,12.3],[17,28],[20,50]]}}},{id:"Road/Freeway Motorway/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",0],["!in","Viz",2]],minzoom:5,layout:{"line-join":"round"},paint:{"line-color":"#F6CA91","line-width":{base:1.2,stops:[[5,.7],[14,6.3],[16,12.3],[17,28],[20,50]]}}},{id:"Special area of interest line/Dock or pier",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",0],minzoom:15,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#E8E7E5","line-width":{base:1.2,stops:[[15,.5],[20,4]]}}},{id:"Special area of interest line/Fence (chain link)/1",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",1],minzoom:16,layout:{"line-join":"round"},paint:{"line-color":"#686868","line-opacity":.5,"line-width":{base:1.2,stops:[[16,.7],[20,3]]}}},{id:"Special area of interest line/Fence (chain link)/0",type:"symbol",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",1],minzoom:16,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"icon-image":"Special area of interest line/Fence (chain link)/0","symbol-spacing":{stops:[[16,7],[22,20]]},"icon-rotation-alignment":"map","icon-allow-overlap":!0,"icon-padding":1,"icon-size":{stops:[[16,.25],[22,1]]}},paint:{}},{id:"Special area of interest line/Fence (metal)/1",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",2],minzoom:16,layout:{"line-join":"round"},paint:{"line-color":"#686868","line-opacity":.5,"line-width":{base:1.2,stops:[[16,.7],[20,3]]}}},{id:"Special area of interest line/Fence (metal)/0",type:"symbol",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",2],minzoom:16,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"icon-image":"Special area of interest line/Fence (metal)/0","symbol-spacing":{stops:[[16,7],[22,20]]},"icon-rotation-alignment":"map","icon-allow-overlap":!0,"icon-padding":1,"icon-size":{stops:[[16,.2],[22,.9]]}},paint:{}},{id:"Special area of interest line/Fence (wood)/1",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",3],minzoom:16,layout:{"line-join":"round"},paint:{"line-color":"#CDAA66","line-opacity":.5,"line-width":{base:1.2,stops:[[16,.7],[20,3]]}}},{id:"Special area of interest line/Fence (wood)/0",type:"symbol",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",3],minzoom:16,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"icon-image":"Special area of interest line/Fence (wood)/0","symbol-spacing":{stops:[[16,7],[22,20]]},"icon-rotation-alignment":"map","icon-allow-overlap":!0,"icon-padding":1,"icon-size":{stops:[[16,.2],[22,.9]]}},paint:{}},{id:"Special area of interest line/Gate/2",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",4],minzoom:16,layout:{"line-join":"round"},paint:{"line-color":"#686868","line-width":{base:1.2,stops:[[16,2],[20,7]]}}},{id:"Special area of interest line/Gate/1",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",4],minzoom:16,layout:{"line-join":"round"},paint:{"line-color":"#E1E1E1","line-width":{base:1.2,stops:[[16,1],[20,5]]}}},{id:"Special area of interest line/Gate/0",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",4],minzoom:16,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#686868","line-dasharray":[5,15],"line-width":.7}},{id:"Special area of interest line/Wall/2",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",7],minzoom:16,layout:{"line-join":"round"},paint:{"line-color":"#BCB7AE","line-width":{base:1.2,stops:[[16,4],[20,7]]}}},{id:"Special area of interest line/Wall/1",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",7],minzoom:16,layout:{"line-join":"round"},paint:{"line-color":"#e3e3e1","line-width":{base:1.2,stops:[[16,2],[20,5]]}}},{id:"Special area of interest line/Wall/0",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",7],minzoom:16,layout:{"line-join":"round"},paint:{"line-color":"#BCB7AE","line-width":.5}},{id:"Road tunnel/4WD/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",10],["!in","Viz",2]],minzoom:13,layout:{"line-join":"round"},paint:{"line-color":"#e3e1dc","line-dasharray":[2,1],"line-opacity":.5,"line-width":{base:1.2,stops:[[11,1.5],[14,2.3],[17,8.3],[20,49]]}}},{id:"Road tunnel/Minor, ramp or traffic circle/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",6],["!in","Viz",2]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#E2DFD6"],[10,"#dedbd1"],[12,"#e3e1dc"]]},"line-opacity":.5,"line-width":{base:1.2,stops:[[9.9,1],[14,4],[16,11.5],[17,19],[20,57]]}}},{id:"Road tunnel/Minor/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",5],["!in","Viz",2]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#E2DFD6"],[10,"#dedbd1"],[12,"#e3e1dc"]]},"line-opacity":.5,"line-width":{base:1.2,stops:[[9,1],[10,3.3],[14,5.5],[16,11.5],[17,19],[20,57]]}}},{id:"Road tunnel/Major, ramp or traffic circle/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",4],["!in","Viz",2]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#dedbd1"],[12,"#e3e1dc"]]},"line-opacity":.5,"line-width":{base:1.2,stops:[[9,3.3],[14,7.3],[16,12.3],[17,22],[20,62]]}}},{id:"Road tunnel/Major/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",3],["!in","Viz",2]],minzoom:8,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[8,"#dedbd1"],[12,"#e3e1dc"]]},"line-opacity":.5,"line-width":{base:1,stops:[[8,3.3],[14,7.3],[16,12.3],[17,22],[20,62]]}}},{id:"Road tunnel/Pedestrian/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",9],["!in","Viz",2]],minzoom:15,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#FFFFFF","line-opacity":.5,"line-width":{base:1.2,stops:[[14,1.6],[16,2],[17,8],[20,45]]}}},{id:"Road tunnel/4WD/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",10],["!in","Viz",2]],minzoom:13,layout:{"line-join":"round"},paint:{"line-color":"#FFFFFF","line-opacity":.5,"line-width":{base:1.2,stops:[[11,.75],[14,1.3],[17,7.3],[20,48]]}}},{id:"Road tunnel/Service/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",8],["!in","Viz",2]],minzoom:13,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#FFFFFF","line-opacity":.5,"line-width":{base:1.2,stops:[[11,.75],[14,1.3],[17,8.3],[20,48]]}}},{id:"Road tunnel/Local/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",7],["!in","Viz",2]],minzoom:12,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[12,"#fcfbf9"],[13,"#ffffff"]]},"line-opacity":.5,"line-width":{base:1.4,stops:[[11,1.1],[14,2],[16,6],[17,14],[20,55]]}}},{id:"Road tunnel/Minor, ramp or traffic circle/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",6],["!in","Viz",2]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#f0efea"],[13,"#ffffff"]]},"line-opacity":.5,"line-width":{base:1.2,stops:[[9,.75],[14,2],[16,9.5],[17,17],[20,55]]}}},{id:"Road tunnel/Minor/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",5],["!in","Viz",2]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#f0efea"],[13,"#ffffff"]]},"line-opacity":.5,"line-width":{base:1.2,stops:[[9,1.3],[14,4.5],[16,9.5],[17,17],[20,55]]}}},{id:"Road tunnel/Major, ramp or traffic circle/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",4],["!in","Viz",2]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#f0efea"],[13,"#ffffff"]]},"line-opacity":.5,"line-width":{base:1.2,stops:[[9,1.3],[14,5.3],[16,10.3],[17,20],[20,60]]}}},{id:"Road tunnel/Major/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",3],["!in","Viz",2]],minzoom:8,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[9,"#f0efea"],[13,"#ffffff"]]},"line-opacity":.5,"line-width":{base:1.2,stops:[[8,1.3],[14,5.3],[16,10.3],[17,20],[20,60]]}}},{id:"Road tunnel/Freeway Motorway, ramp or traffic circle/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",2],["!in","Viz",2]],minzoom:6,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ffffff","line-opacity":.5,"line-width":{base:1.2,stops:[[9,.3],[14,8.3],[16,14.3],[17,30],[20,52]]}}},{id:"Road tunnel/Highway/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",1],["!in","Viz",2]],minzoom:6,layout:{"line-join":"round"},paint:{"line-color":"#ffffff","line-opacity":.5,"line-width":{base:1.2,stops:[[6,.3],[14,8.3],[16,14.3],[17,30],[20,52]]}}},{id:"Road tunnel/Freeway Motorway/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",0],["!in","Viz",2]],minzoom:5,layout:{"line-join":"round"},paint:{"line-color":"#ffffff","line-opacity":.5,"line-width":{base:1.2,stops:[[5,.3],[14,8.3],[16,14.3],[17,30],[20,52]]}}},{id:"Road tunnel/Freeway Motorway, ramp or traffic circle/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",2],["!in","Viz",2]],minzoom:6,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":{stops:[[6,"#F6CA91"],[8,"#F6CA91"],[12,"#F6CA91"]]},"line-opacity":.5,"line-width":{base:1.2,stops:[[9,.7],[14,6.3],[16,12.3],[17,28],[20,50]]}}},{id:"Road tunnel/Highway/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",1],["!in","Viz",2]],minzoom:6,layout:{"line-join":"round"},paint:{"line-color":{stops:[[6,"#F6CA91"],[8,"#F6CA91"],[12,"#F6CA91"]]},"line-opacity":.5,"line-width":{base:1.2,stops:[[6,.7],[14,6.3],[16,12.3],[17,28],[20,50]]}}},{id:"Road tunnel/Freeway Motorway/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",0],["!in","Viz",2]],minzoom:5,layout:{"line-join":"round"},paint:{"line-color":"#F6CA91","line-opacity":.5,"line-width":{base:1.2,stops:[[5,.7],[14,6.3],[16,12.3],[17,28],[20,50]]}}},{id:"Special area of interest/Gutter",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["in","_symbol",9,3],minzoom:14,layout:{},paint:{"fill-color":"#E8E7E5","fill-outline-color":"#bcb7ae"}},{id:"Boundary line/Disputed admin2",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",8],["!in","Viz",2]],minzoom:9,layout:{"line-join":"round"},paint:{"line-color":{stops:[[1,"#f5f5f5"],[3,"#fafafa"],[9,"#ffffff"]]},"line-width":{base:1.2,stops:[[1,.65],[14,1.3],[17,2.5]]},"line-dasharray":[5,5]}},{id:"Boundary line/Disputed admin1/1",type:"line",source:"esri","source-layer":"Boundary line",minzoom:3,filter:["all",["==","_symbol",7],["!in","Viz",2]],layout:{"line-join":"round"},paint:{"line-color":"#c6c4b6","line-opacity":.95,"line-width":{base:1,stops:[[4,.5],[14,7],[17,7]]}}},{id:"Boundary line/Disputed admin0/1",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",6],["!in","Viz",2],["!in","DisputeID",8,16,90,96,0]],minzoom:1,layout:{"line-join":"round"},paint:{"line-color":"#c6c4b6","line-opacity":.95,"line-width":{base:1,stops:[[1,.5],[14,9.3],[17,9.3]]}}},{id:"Boundary line/Disputed admin1/0",type:"line",source:"esri","source-layer":"Boundary line",minzoom:3,filter:["all",["==","_symbol",7],["!in","Viz",2]],layout:{"line-join":"round"},paint:{"line-color":{stops:[[1,"#f5f5f5"],[3,"#fafafa"],[9,"#ffffff"]]},"line-width":{base:1.2,stops:[[1,.65],[14,1.3],[17,2.5]]},"line-dasharray":[5,5]}},{id:"Boundary line/Disputed admin0/0",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",6],["!in","Viz",2],["!in","DisputeID",8,16,90,96,0]],minzoom:1,layout:{"line-join":"round"},paint:{"line-color":{stops:[[1,"#f5f5f5"],[3,"#fafafa"],[9,"#ffffff"]]},"line-width":{base:1.2,stops:[[1,.65],[14,1.3],[17,2.5]]},"line-dasharray":[5,5]}},{id:"Boundary line/Admin2/1",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",2],["!in","Viz",2]],minzoom:10,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#ede7e0","line-opacity":.6,"line-width":{base:1.2,stops:[[8,2.3],[14,5.5],[17,7.5]]}}},{id:"Boundary line/Admin1/1",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",1],["!in","Viz",2]],minzoom:3,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[3,"#DEE1CC"],[10,"#d1ceb8"]]},"line-opacity":.5,"line-width":{base:1,stops:[[3,.5],[14,9],[17,10]]}}},{id:"Boundary line/Admin0/1",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",0],["!in","Viz",2]],minzoom:1,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#d1cfc2","line-width":{base:1,stops:[[1,.5],[14,11.3],[17,12.3]]}}},{id:"Boundary line/Admin5",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",5],["!in","Viz",2]],minzoom:16,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#9C9C9C","line-width":{base:1.2,stops:[[14,1],[17,1]]},"line-dasharray":[6,4]}},{id:"Boundary line/Admin4",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",4],["!in","Viz",2]],minzoom:16,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#9C9C9C","line-width":{base:1.2,stops:[[14,1],[17,1]]},"line-dasharray":[6,4]}},{id:"Boundary line/Admin3",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",3],["!in","Viz",2]],minzoom:16,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#9C9C9C","line-width":{base:1.2,stops:[[14,1],[17,1]]},"line-dasharray":[6,4]}},{id:"Boundary line/Admin2/0",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",2],["!in","Viz",2]],minzoom:9,layout:{"line-join":"round"},paint:{"line-color":"#888577","line-dasharray":[7,5],"line-width":{base:1.2,stops:[[8,.5],[14,1]]}}},{id:"Boundary line/Admin1/0",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",1],["!in","Viz",2]],minzoom:3,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[3,"#c1bdb5"],[4,"#9b9382"]]},"line-width":{base:1,stops:[[4,.5],[14,1.3],[17,1.3]]}}},{id:"Boundary line/Admin0/0",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",0],["!in","Viz",2]],minzoom:1,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[1,"#b9b9b9"],[7,"#434242"]]},"line-width":{base:1.2,stops:[[1,.5],[14,1.3],[17,2]]}}},{id:"Coastline",type:"line",source:"esri","source-layer":"Coastline",maxzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[0,"#53B9EA"],[7,"#53B9EA"],[9,"#6BC4F0"]]},"line-width":{base:1.2,stops:[[0,.5],[9,1.3]]}}},{id:"Pavement marking/Arrow",type:"symbol",source:"esri","source-layer":"Pavement marking",minzoom:17,filter:["==","_symbol",0],layout:{"icon-rotation-alignment":"map","icon-image":"Pavement marking/Arrow","icon-size":{stops:[[17,.5],[22,1]]},"icon-rotate":{type:"identity",property:"angle",default:0},"icon-allow-overlap":!0},paint:{"icon-color":"#B2B2B2"}},{id:"Pavement marking/Handicap",type:"symbol",source:"esri","source-layer":"Pavement marking",minzoom:18,filter:["==","_symbol",1],layout:{"icon-rotation-alignment":"map","icon-image":"Pavement marking/Handicap","icon-size":{stops:[[18,.5],[20,1],[22,1.25]]},"icon-rotate":{type:"identity",property:"angle",default:0},"icon-allow-overlap":!0},paint:{"icon-color":"#296AA3","icon-opacity":{stops:[[18,.65],[20,1]]}}},{id:"Pavement marking/Left turn",type:"symbol",source:"esri","source-layer":"Pavement marking",minzoom:17,filter:["==","_symbol",2],layout:{"icon-rotation-alignment":"map","icon-image":"Pavement marking/Left turn","icon-size":{stops:[[17,.5],[22,1]]},"icon-rotate":{type:"identity",property:"angle",default:0},"icon-allow-overlap":!0},paint:{"icon-color":"#B2B2B2"}},{id:"Pavement marking/Right turn",type:"symbol",source:"esri","source-layer":"Pavement marking",minzoom:17,filter:["==","_symbol",3],layout:{"icon-rotation-alignment":"map","icon-image":"Pavement marking/Right turn","icon-size":{stops:[[17,.5],[22,1]]},"icon-rotate":{type:"identity",property:"angle",default:0},"icon-allow-overlap":!0},paint:{"icon-color":"#B2B2B2"}},{id:"Pavement marking/Two-way left turn",type:"symbol",source:"esri","source-layer":"Pavement marking",minzoom:17,filter:["==","_symbol",4],layout:{"icon-rotation-alignment":"map","icon-image":"Pavement marking/Two-way left turn","icon-size":{stops:[[17,.5],[22,1]]},"icon-rotate":{type:"identity",property:"angle",default:0},"icon-allow-overlap":!0},paint:{"icon-color":"#B2B2B2"}},{id:"Pavement marking/U-turn",type:"symbol",source:"esri","source-layer":"Pavement marking",minzoom:17,filter:["==","_symbol",5],layout:{"icon-rotation-alignment":"map","icon-image":"Pavement marking/U-turn","icon-size":{stops:[[17,.5],[22,1]]},"icon-rotate":{type:"identity",property:"angle",default:0},"icon-allow-overlap":!0},paint:{"icon-color":"#B2B2B2"}},{id:"parcel-linked",type:"fill",source:"baseunits","source-layer":"parcels",minzoom:11,filter:["==","parcelno","02004940."],layout:{visibility:"visible"},paint:{"fill-color":k.parcels.color,"fill-opacity":{base:1,stops:[[12,0],[12.1,.1],[12.5,.25],[22,.25]]}}},{id:"parcel-fill",type:"fill",source:"baseunits","source-layer":"parcels",interactive:!0,minzoom:12,layout:{visibility:"visible"},paint:{"fill-color":"rgba(0,0,0,0)"}},{id:"streets-highlight",type:"line",source:"baseunits","source-layer":"streets",filter:["==","$id",""],minzoom:14,layout:{visibility:"visible"},paint:{"line-width":{stops:[[11,3],[15,5.5],[20,42]]},"line-color":k.streets.color,"line-opacity":.75}},{id:"streets-linked",type:"line",source:"baseunits","source-layer":"streets",filter:["==","$id",""],minzoom:14,layout:{visibility:"visible"},paint:{"line-width":{stops:[[11,3],[15,5.5],[20,42]]},"line-color":k.streets.color,"line-opacity":.65}},{id:"streets-line",type:"line",source:"baseunits","source-layer":"streets",minzoom:11,layout:{visibility:"visible"},paint:{"line-width":{stops:[[11,1],[15,2],[20,25]]},"line-color":"#bbb","line-opacity":1}},{id:"Water point/Sea or ocean",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",0],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":{stops:[[9,8.5],[15,15.5]]},"text-letter-spacing":.3,"text-line-height":1.6,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#FFFFFF","text-halo-width":1}},{id:"Water point/Island",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",7],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#595959","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":1}},{id:"Water point/Dam or weir",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",5],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#171310","text-halo-color":"#EBE7E2","text-halo-width":.7,"text-halo-blur":1}},{id:"Water point/Playa",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",6],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#171310","text-halo-color":"#EBE7E2","text-halo-width":.7,"text-halo-blur":1}},{id:"Water point/Canal or ditch",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",4],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.13,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":1}},{id:"Water point/Stream or river",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",3],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water point/Lake or reservoir",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",2],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#FFFFFF","text-halo-width":.5}},{id:"Water point/Bay or inlet",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",1],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Ferry/label/Ferry",type:"symbol",source:"esri","source-layer":"Ferry/label",filter:["all",["==","_label_class",0],["!in","Viz",2]],minzoom:12,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":10,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name_global}","text-padding":30},paint:{"text-color":"#ffffff","text-halo-width":1.2,"text-halo-color":"#6BC4F0","text-halo-blur":1}},{id:"Water line/label/Default",type:"symbol",source:"esri","source-layer":"Water line/label",minzoom:11,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":9.5,"text-letter-spacing":.07,"text-max-width":8,"text-max-angle":35,"text-field":"{_name_global}","text-padding":1,"text-offset":[0,-.5],"symbol-spacing":800},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water line large scale/label/Default",type:"symbol",source:"esri","source-layer":"Water line large scale/label",minzoom:7,maxzoom:11,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":9.3,"text-letter-spacing":.01,"text-max-width":8,"text-max-angle":{stops:[[7,25],[11,35]]},"text-field":"{_name}","text-padding":1,"text-offset":[0,-.5],"symbol-spacing":800},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water line medium scale/label/Default",type:"symbol",source:"esri","source-layer":"Water line medium scale/label",minzoom:5,maxzoom:7,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":9.3,"text-letter-spacing":.1,"text-max-width":8,"text-max-angle":{stops:[[5,15],[6,25]]},"text-field":"{_name}","text-padding":1,"text-offset":[0,-.5],"symbol-spacing":800},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water line small scale/label/Default",type:"symbol",source:"esri","source-layer":"Water line small scale/label",minzoom:4,maxzoom:5,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":8.5,"text-letter-spacing":.1,"text-max-width":8,"text-max-angle":18,"text-field":"{_name}","text-padding":1,"text-offset":[0,-.5],"symbol-spacing":800},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Marine park/label/Default",type:"symbol",source:"esri","source-layer":"Marine park/label",minzoom:11,layout:{"text-font":["Montserrat SemiBold"],"text-size":{stops:[[15,9.5],[20,11],[22,15]]},"text-letter-spacing":{stops:[[15,.05],[20,.15]]},"text-max-width":8,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#3a7795"}},{id:"Water area/label/Dam or weir",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",8],minzoom:11,layout:{"text-font":["Montserrat SemiBold"],"text-size":9.5,"text-letter-spacing":.08,"text-max-width":8,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#171310","text-halo-color":"#EBE7E2","text-halo-width":.5,"text-halo-blur":1}},{id:"Water area/label/Playa",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",9],minzoom:11,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":9.5,"text-letter-spacing":.08,"text-max-width":8,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#171310","text-halo-color":"#EBE7E2","text-halo-width":.5,"text-halo-blur":1}},{id:"Water area/label/Canal or ditch",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",2],minzoom:11,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"symbol-placement":"line","symbol-spacing":1e3,"text-size":10.5,"text-letter-spacing":.13,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0,"text-max-width":5},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water area/label/Small river",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",7],minzoom:11,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"symbol-placement":"line","symbol-spacing":1e3,"text-size":10.5,"text-letter-spacing":.13,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0,"text-max-width":8},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water area/label/Large river",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",4],minzoom:11,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"symbol-placement":"line","symbol-spacing":1e3,"text-size":10.5,"text-letter-spacing":.13,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0,"text-max-width":8},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water area/label/Small lake or reservoir",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",6],minzoom:11,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":10.5,"text-letter-spacing":.13,"text-line-height":1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water area/label/Large lake or reservoir",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",3],minzoom:11,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":10.5,"text-letter-spacing":.13,"text-line-height":1.5,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water area/label/Bay or inlet",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",1],minzoom:11,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":10.5,"text-letter-spacing":.13,"text-line-height":1.5,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water area/label/Small island",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",0],minzoom:11,layout:{"text-size":10.5,"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"]},paint:{"text-color":"#595959","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":1}},{id:"Water area/label/Large island",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",5],minzoom:11,layout:{"text-size":10.5,"text-letter-spacing":.13,"text-line-height":1.5,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Demi Italic"]},paint:{"text-color":"#595959","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":1}},{id:"Water area large scale/label/River",type:"symbol",source:"esri","source-layer":"Water area large scale/label",filter:["==","_label_class",1],minzoom:7,maxzoom:11,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"symbol-placement":"line","symbol-spacing":1e3,"text-size":9.3,"text-letter-spacing":.1,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-max-width":4},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water area large scale/label/Lake or lake intermittent",type:"symbol",source:"esri","source-layer":"Water area large scale/label",filter:["==","_label_class",0],minzoom:7,maxzoom:11,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":9.3,"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water area medium scale/label/Default",type:"symbol",source:"esri","source-layer":"Water area medium scale/label",minzoom:5,maxzoom:7,layout:{"text-max-width":4,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-letter-spacing":.08,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":9.3},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Water area small scale/label/Default",type:"symbol",source:"esri","source-layer":"Water area small scale/label",minzoom:1,maxzoom:5,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":9.3,"text-letter-spacing":.08,"text-max-width":4,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#EBE7E2","text-halo-width":.5}},{id:"Marine area/label/Default",type:"symbol",source:"esri","source-layer":"Marine area/label",minzoom:11,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":10.5,"text-letter-spacing":.13,"text-line-height":1.5,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#82CFF5","text-halo-width":1}},{id:"Marine waterbody/label/small",type:"symbol",source:"esri","source-layer":"Marine waterbody/label",filter:["==","_label_class",4],minzoom:1,maxzoom:10,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"text-letter-spacing":{stops:[[1,.12],[10,.25]]},"text-line-height":1.5,"text-max-width":6,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-size":{stops:[[1,8],[6,9.3]]}},paint:{"text-color":{stops:[[1,"#0d6c9a"],[6,"#0d6c9a"]]},"text-halo-blur":1,"text-halo-color":"#82CFF5","text-halo-width":.5}},{id:"Marine waterbody/label/medium",type:"symbol",source:"esri","source-layer":"Marine waterbody/label",filter:["==","_label_class",3],minzoom:1,maxzoom:10,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"text-letter-spacing":{stops:[[1,.15],[10,.3]]},"text-line-height":1.5,"text-max-width":6,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-size":{stops:[[1,8],[6,9.3]]}},paint:{"text-color":{stops:[[1,"#0d6c9a"],[6,"#0d6c9a"]]},"text-halo-blur":1,"text-halo-color":"#82CFF5","text-halo-width":.5}},{id:"Marine waterbody/label/large",type:"symbol",source:"esri","source-layer":"Marine waterbody/label",filter:["==","_label_class",2],minzoom:1,maxzoom:10,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"text-letter-spacing":{stops:[[1,.18],[10,.4]]},"text-line-height":1.5,"text-max-width":6,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-size":{stops:[[1,8],[6,10]]}},paint:{"text-color":{stops:[[1,"#0d6c9a"],[6,"#0d6c9a"]]},"text-halo-blur":1,"text-halo-color":"#82CFF5","text-halo-width":.5}},{id:"Marine waterbody/label/x large",type:"symbol",source:"esri","source-layer":"Marine waterbody/label",filter:["==","_label_class",1],minzoom:1,maxzoom:10,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"text-letter-spacing":{stops:[[1,.2],[10,1.5]]},"text-line-height":1.5,"text-max-width":6,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-size":{stops:[[1,8],[6,11]]}},paint:{"text-color":{stops:[[1,"#0d6c9a"],[6,"#0d6c9a"]]},"text-halo-blur":1,"text-halo-color":"#82CFF5","text-halo-width":.5}},{id:"Marine waterbody/label/2x large",type:"symbol",source:"esri","source-layer":"Marine waterbody/label",filter:["==","_label_class",0],minzoom:1,maxzoom:10,layout:{"text-font":["Avenir Next LT Pro Demi Italic"],"text-letter-spacing":{stops:[[1,.3],[10,2]]},"text-line-height":1.6,"text-max-width":6,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-size":{stops:[[1,10],[4,18]]}},paint:{"text-color":"#0d6c9a","text-halo-blur":1,"text-halo-color":"#82CFF5","text-halo-width":.5}},{id:"Ferry/label/Rail ferry",type:"symbol",source:"esri","source-layer":"Ferry/label",filter:["all",["==","_label_class",1],["!in","Viz",2]],minzoom:12,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":9,"text-letter-spacing":.1,"text-max-width":8,"text-field":"{_name_global}","text-padding":5,"text-offset":[0,-.6],"symbol-spacing":1e3},paint:{"text-color":"#4E4E4E","text-halo-color":"#FFFFFF","text-halo-width":1}},{id:"Railroad/label/Default",type:"symbol",source:"esri","source-layer":"Railroad/label",minzoom:14,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":9,"text-letter-spacing":.1,"text-max-width":8,"text-field":"{_name_global}","text-padding":5,"text-offset":[0,-.6],"symbol-spacing":1e3},paint:{"text-color":"#4E4E4E","text-halo-color":"#EBE7E2","text-halo-width":1}},{id:"Trail or path/label/Default",type:"symbol",source:"esri","source-layer":"Trail or path/label",minzoom:15,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Avenir Next LT Pro Demi Italic"],"text-size":9.3,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name_global}","text-padding":5},paint:{"text-color":"#595959","text-halo-color":"#FFFFFF","text-halo-width":1}},{id:"Road tunnel/label/Pedestrian",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",6],["!in","Viz",2]],minzoom:15,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Montserrat SemiBold"],"text-size":9.3,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name_global}","text-padding":5},paint:{"text-color":"#595959","text-halo-color":"#FFFFFF","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Local, service, 4WD",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",5],["!in","Viz",2]],minzoom:12,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Montserrat SemiBold"],"text-size":9.5,"text-letter-spacing":.09,"text-max-width":8,"text-field":"{_name_global}","text-padding":{stops:[[12,5],[15,5],[16,15]]}},paint:{"text-color":"#595959","text-halo-color":"#FFFFFF","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Minor",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",4],["!in","Viz",2]],minzoom:10,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Montserrat SemiBold"],"text-size":{stops:[[10,9.5],[14,10.5],[18,12.5]]},"text-letter-spacing":.09,"text-max-width":8,"text-field":"{_name_global}","text-padding":{stops:[[10,5],[15,5],[16,15]]}},paint:{"text-color":"#595959","text-halo-color":"#FFFFFF","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Major, alt name",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",3],["!in","Viz",2]],minzoom:10,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Montserrat SemiBold"],"text-size":{stops:[[10,9.5],[14,10.5],[18,12.5]]},"text-letter-spacing":.09,"text-max-width":8,"text-field":"{_name}","text-padding":{stops:[[10,5],[15,5],[16,15]]}},paint:{"text-color":"#4e4e4e","text-halo-color":"#FFFFFF","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Major",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",2],["!in","Viz",2]],minzoom:10,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Montserrat SemiBold"],"text-size":{stops:[[10,9.5],[14,10.5],[18,12.5]]},"text-letter-spacing":.09,"text-max-width":8,"text-field":"{_name}","text-padding":{stops:[[10,5],[15,5],[16,15]]}},paint:{"text-color":"#4E4E4E","text-halo-color":"#FFFFFF","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Highway",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",7],["!in","Viz",2]],minzoom:10,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Avenir Next LT Pro Bold"],"text-size":{stops:[[10,9.5],[14,10.5],[18,14.5]]},"text-letter-spacing":.09,"text-max-width":8,"text-field":"{_name_global}","text-padding":{stops:[[10,5],[15,5],[16,15]]}},paint:{"text-color":"#4E4E4E","text-halo-color":"#FFFFFF","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Freeway Motorway, alt name",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",1],["!in","Viz",2]],minzoom:10,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Avenir Next LT Pro Bold"],"text-size":{stops:[[10,9.5],[14,10.5],[18,14.5]]},"text-letter-spacing":.09,"text-max-width":8,"text-field":"{_name_global}","text-padding":{stops:[[10,5],[15,5],[16,15]]}},paint:{"text-color":"#4E4E4E","text-halo-color":"#FFFFFF","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Freeway Motorway",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",0],["!in","Viz",2]],minzoom:10,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Avenir Next LT Pro Bold"],"text-size":{stops:[[10,9.5],[14,10.5],[18,14.5]]},"text-letter-spacing":.09,"text-max-width":8,"text-field":"{_name_global}","text-padding":{stops:[[10,5],[15,5],[16,15]]}},paint:{"text-color":"#4E4E4E","text-halo-color":"#FFFFFF","text-halo-width":1,"text-halo-blur":1}},{id:"Road/label/Local",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",5],["!in","Viz",2]],minzoom:12,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Montserrat SemiBold"],"text-size":{stops:[[10,9.5],[14,10.5],[18,11.5]]},"text-letter-spacing":0,"text-max-width":8,"text-field":"{_name_global}","text-padding":{stops:[[12,5],[15,5],[16,15]]}},paint:{"text-color":"#595959","text-halo-color":"#FFFFFF","text-halo-width":2}},{id:"Road/label/Minor",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",4],["!in","Viz",2]],minzoom:10,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Montserrat Bold"],"text-size":{stops:[[10,10.5],[14,11.5],[18,13.5]]},"text-letter-spacing":0,"text-max-width":8,"text-field":"{_name_global}","text-padding":{stops:[[10,5],[15,5],[16,10]]}},paint:{"text-color":"#595959","text-halo-color":"#FFFFFF","text-halo-width":3}},{id:"Road/label/Major, alt name",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",3],["!in","Viz",2]],minzoom:10,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Montserrat SemiBold"],"text-size":{stops:[[10,9.5],[14,10.5],[18,12.5]]},"text-letter-spacing":.09,"text-max-width":8,"text-field":"{_name}","text-padding":{stops:[[10,5],[15,5],[16,15]]}},paint:{"text-color":"#4E4E4E","text-halo-color":"#FFFFFF","text-halo-width":2}},{id:"Road/label/Major",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",2],["!in","Viz",2]],minzoom:10,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Montserrat SemiBold"],"text-size":{stops:[[10,10.5],[14,11.5],[18,12.5]]},"text-letter-spacing":0,"text-max-width":8,"text-field":"{_name_global}","text-padding":{stops:[[10,5],[15,5],[16,10]]}},paint:{"text-color":"#4E4E4E","text-halo-color":"#FFFFFF","text-halo-width":2}},{id:"Road/label/Highway",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",75],["!in","Viz",2]],minzoom:10,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Avenir Next LT Pro Bold"],"text-size":{stops:[[10,9.5],[14,10.5],[18,14.5]]},"text-letter-spacing":.09,"text-max-width":8,"text-field":"{_name_global}","text-padding":{stops:[[10,5],[15,5],[16,15]]}},paint:{"text-color":"#4E4E4E","text-halo-color":"#FFFFFF","text-halo-width":2}},{id:"Road/label/Freeway Motorway, alt name",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",1],["!in","Viz",2]],minzoom:10,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Avenir Next LT Pro Bold"],"text-size":{stops:[[10,9.5],[14,10.5],[18,14.5]]},"text-letter-spacing":.09,"text-max-width":8,"text-field":"{_name}","text-padding":{stops:[[10,5],[15,5],[16,15]]}},paint:{"text-color":"#4E4E4E","text-halo-color":"#FFFFFF","text-halo-width":1}},{id:"Road/label/Freeway Motorway",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",0],["!in","Viz",2]],minzoom:10,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Avenir Next LT Pro Bold"],"text-size":{stops:[[10,9.5],[14,10.5],[18,14.5]]},"text-letter-spacing":.09,"text-max-width":8,"text-field":"{_name_global}","text-padding":{stops:[[10,5],[15,5],[16,15]]}},paint:{"text-color":"#4E4E4E","text-halo-color":"#FFFFFF","text-halo-width":1}},{id:"Road/label/Rectangle white black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",32],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":9.3,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle white black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Rectangle white black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",31],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":9.3,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle white black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Secondary Hwy red white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",16],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Secondary Hwy red white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Secondary Hwy red white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",15],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Secondary Hwy red white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/U-shaped yellow black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",24],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/U-shaped yellow black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/U-shaped yellow black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",23],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/U-shaped yellow black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/U-shaped red white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",26],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/U-shaped red white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/U-shaped red white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",25],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/U-shaped red white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/U-shaped blue white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",28],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/U-shaped blue white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/U-shaped blue white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",27],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/U-shaped blue white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/V-shaped white black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",30],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/V-shaped white black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/V-shaped white black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",29],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/V-shaped white black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/U-shaped white black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",18],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/U-shaped white black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/U-shaped white black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",17],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/U-shaped white black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/U-shaped white green (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",20],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/U-shaped white green (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/U-shaped white green",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",19],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/U-shaped white green/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/U-shaped green leaf (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",22],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/U-shaped green leaf (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/U-shaped green leaf",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",21],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/U-shaped green leaf/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Rectangle yellow black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",38],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle yellow black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Rectangle yellow black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",37],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle yellow black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Rectangle red white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",36],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle red white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Rectangle red white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",35],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle red white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Rectangle blue white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",34],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle blue white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Rectangle blue white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",33],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle blue white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Rectangle green white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",40],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle green white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Rectangle green white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",39],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle green white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Rectangle green yellow (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",42],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle green yellow (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#f1dfb7"}},{id:"Road/label/Rectangle green yellow",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",41],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle green yellow/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#f1dfb7"}},{id:"Road/label/Pentagon inverse white black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",44],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":9.3,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Pentagon inverse white black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Pentagon inverse white black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",43],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":9.3,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Pentagon inverse white black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Pentagon white black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",46],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Pentagon white black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Pentagon white black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",45],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Pentagon white black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Pentagon yellow black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",50],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Pentagon yellow black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Pentagon yellow black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",49],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Pentagon yellow black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Pentagon green white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",51],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Pentagon green white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Pentagon green white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",52],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Pentagon green white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Pentagon green yellow",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",53],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Pentagon green yellow/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#f1dfb7"}},{id:"Road/label/Pentagon green yellow (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",54],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Pentagon green yellow (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#f1dfb7"}},{id:"Road/label/Pentagon blue white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",48],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":9.3,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Pentagon blue white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Pentagon blue white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",47],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":9.3,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Pentagon blue white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Hexagon white black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",56],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Hexagon white black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Hexagon white black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",55],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Hexagon white black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Hexagon blue white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",57],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Hexagon blue white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Hexagon blue white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",58],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Hexagon blue white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Hexagon red white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",59],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Hexagon red white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Hexagon red white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",60],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Hexagon red white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Hexagon green white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",62],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Hexagon green white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Hexagon green white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",61],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Hexagon green white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Hexagon orange black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",63],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Hexagon orange black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Hexagon orange black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",64],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Hexagon orange black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Rectangle hexagon blue white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",66],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle hexagon blue white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Rectangle hexagon blue white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",65],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle hexagon blue white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Rectangle hexagon red white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",68],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle hexagon red white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Rectangle hexagon red white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",67],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle hexagon red white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Rectangle hexagon green white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",70],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle hexagon green white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Rectangle hexagon green white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",69],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle hexagon green white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Rectangle hexagon brown white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",72],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle hexagon brown white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Rectangle hexagon brown white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",71],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Rectangle hexagon brown white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Octagon green white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",74],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Octagon green white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Octagon green white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",73],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Octagon green white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Shield white black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",10],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":9.3,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Shield white black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Shield white black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",9],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":9.3,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Shield white black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Secondary Hwy green white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",14],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":9.3,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Secondary Hwy green white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Secondary Hwy green white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",13],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":9.3,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Secondary Hwy green white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Secondary Hwy white black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",12],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-letter-spacing":.05,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Secondary Hwy white black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Secondary Hwy white black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",11],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Montserrat SemiBold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Secondary Hwy white black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{}},{id:"Road/label/Shield blue white (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",8],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Shield blue white (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"Road/label/Shield blue white",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",7],["!in","Viz",2]],minzoom:7,layout:{"symbol-placement":"line","symbol-spacing":400,"symbol-avoid-edges":!0,"text-font":["Avenir Next LT Pro Bold"],"text-size":8.5,"text-max-width":8,"text-field":"{_name}","icon-image":"Road/Shield blue white/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-padding":{stops:[[7,50],[10,50],[11,15]]}},paint:{"text-color":"#ffffff"}},{id:"parcel-line",type:"line",source:"baseunits","source-layer":"parcels",minzoom:11,layout:{visibility:"visible"},paint:{"line-color":{stops:[[14,"#ccc"],[17,"#bbb"],[17.1,"#aaa"],[18,"#555"]]},"line-width":{base:1,stops:[[12,.1],[14,.75],[17,1.5],[20,4]]},"line-opacity":{base:1,stops:[[14,0],[14.1,.5],[22,1]]}}},{id:"parcel-highlight",type:"line",source:"baseunits","source-layer":"parcels",minzoom:11,filter:["==","parcelno",""],layout:{visibility:"visible"},paint:{"line-color":k.parcels.color,"line-width":{base:1,stops:[[12,.5],[14,2],[15,3],[22,10]]},"line-opacity":{base:1,stops:[[12,0],[12.1,.1],[12.5,1],[22,1]]}}},{id:"building-fill",type:"fill",source:"baseunits","source-layer":"buildings",interactive:!0,minzoom:12,layout:{visibility:"visible"},paint:{"fill-color":{stops:[[14,"#aaa"],[19,"#bbb"]]},"fill-opacity":{stops:[[14,.1],[19,.5]]}}},{id:"building-linked",type:"fill",source:"baseunits","source-layer":"buildings",minzoom:11,filter:["==","id",""],layout:{visibility:"visible"},paint:{"fill-color":k.buildings.color,"fill-opacity":{base:1,stops:[[12,0],[12.1,.1],[12.5,.25],[22,.25]]}}},{id:"building-highlight",type:"line",source:"baseunits","source-layer":"buildings",minzoom:11,filter:["==","id",""],layout:{visibility:"visible"},paint:{"line-color":k.buildings.color,"line-width":{base:1,stops:[[11.5,.1],[13.5,.75],[14,1.5],[21,6]]},"line-opacity":{base:1,stops:[[12,0],[12.1,.1],[12.5,1],[22,1]]}}},{id:"address-highlight",type:"circle",source:"baseunits","source-layer":"addresses",minzoom:11,filter:["==","id",""],layout:{visibility:"visible"},paint:{"circle-radius":{base:1,stops:[[12.5,.2],[13.5,1],[16.5,3],[19,12]]},"circle-color":k.addresses.color,"circle-stroke-color":"#333","circle-stroke-width":1}},{id:"address-linked",type:"circle",source:"baseunits","source-layer":"addresses",minzoom:11,filter:["==","id",""],layout:{visibility:"visible"},paint:{"circle-radius":{base:1,stops:[[12.5,.2],[13.5,1],[16.5,3],[19,12]]},"circle-color":k.addresses.color,"circle-stroke-color":"#333","circle-stroke-width":1}},{id:"address-point",type:"circle",source:"baseunits","source-layer":"addresses",minzoom:13,layout:{visibility:"none"},paint:{"circle-radius":{base:1,stops:[[13,.1],[14,1],[17,4],[19,8]]},"circle-color":"#aaa"}},{id:"address-point-label",source:"baseunits","source-layer":"addresses",type:"symbol",minzoom:18,layout:{"text-field":["get","street_number"],"text-font":["Noto Sans Bold"],"text-offset":[0,-1],visibility:"none"},paint:{"text-halo-color":"white","text-halo-width":2}},{id:"mapillary-images",type:"circle",source:"mly","source-layer":"image",maxzoom:22,minzoom:14,filter:["all",["==","is_pano",!0],["==","organization_id",518073312556755]],layout:{visibility:"visible"},paint:{"circle-radius":{base:1,stops:[[13,.1],[14,.5],[17,2],[18.5,4],[19,7],[19.5,10]]},"circle-color":"rgba(20,20,120,0)"}},{id:"mapillary-location",type:"symbol",source:"mly","source-layer":"image",filter:["==","id",!0],layout:{"icon-rotate":0,"icon-rotation-alignment":"map","icon-image":"video","icon-anchor":"center","icon-size":{base:1,stops:[[13,.1],[14,.4],[17,.6],[19,.9]]}},paint:{"icon-opacity":.65}},{id:"result-point",source:"result",type:"circle",paint:{"circle-color":"green"}},{id:"new-address-point",source:"new-point",type:"circle",paint:{"circle-color":"rgba(120,0,0,0.5)","circle-radius":10,"circle-stroke-color":"#ddd","circle-stroke-width":2}}],metadata:{arcgisStyleUrl:"https://www.arcgis.com/sharing/rest/content/items/273bf8d5c8ac400183fc24e109d20bcf/resources/styles/root.json",arcgisOriginalItemTitle:"Community"}},q=function(){var e=U.a.cloneDeep(H);return e.layers[0].layout.visibility="visible",e.layers[1].layout.visibility="none",e.layers.slice(0,200).forEach((function(t,i){"fill"===t.type&&-1===t.id.indexOf("parcel")&&(e.layers[i].layout.visibility="none"),"line"===t.type&&0===t.id.indexOf("Road")&&(e.layers[i].layout.visibility="none")})),e.layers.forEach((function(t,i){"streets-line"===t.id&&(e.layers[i].paint["line-color"]=k.streets.color,e.layers[i].paint["line-opacity"]=.75),"streets-highlight"===t.id&&(e.layers[i].paint["line-color"]="#fff")})),e},G=function(){var e=U.a.cloneDeep(H);return e.layers[0].layout.visibility="none",e.layers[1].layout.visibility="visible",e.layers.slice(0,200).forEach((function(t,i){"fill"===t.type&&-1===t.id.indexOf("parcel")&&(e.layers[i].layout.visibility="none"),"line"===t.type&&0===t.id.indexOf("Road")&&(e.layers[i].layout.visibility="none")})),e},Y=i(59),J=function(e){var t=e.clicked,i=e.setClicked,s=e.geocoded,l=e.linked,n=e.feature,r=e.showSv,c=e.svBearing,d=e.basemap,u=e.svImage,m=e.setSvImages,b=Object(a.useState)(null),p=Object(o.a)(b,2),x=p[0],y=p[1],f=Object(a.useState)(!0),j=Object(o.a)(f,2),h=j[0],O=j[1];return Object(a.useEffect)((function(){var e=new D.a.Map({container:"map",style:H,bounds:[-83.287803,42.255192,-82.910451,42.45023],fitBoundsOptions:{padding:50},maxZoom:19.99});e.resize(),e.addControl(new D.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},fitBoundsOptions:{maxZoom:18.5},trackUserLocation:!0,showUserHeading:!0})),e.addControl(new D.a.NavigationControl({showCompass:!1}),"top-left"),e.on("load",(function(){y(e)})),e.on("style.load",(function(){O(!1),e.loadImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABmJLR0QA/wD/AP+gvaeTAAAAyElEQVQ4je3Uv2rCYBSG8Z+ZRMeCzm7q0qIXUARvyandejneQqF2rXuCo4vUQQcxOHRIhyYgIeKf1ElfOJzh5Xs4fMPDPWkq6e7iFY+oHnmzxgRv2BT0LTxBHzskZ06IWg7axTd+4OMCaDajAmjW2ZYAjw9AkwD1oo88MXW08Y7mflHJzr4wER7QyBdlwQcTXAN6m+AQy2uA53jGoggclwDHmGEod3mAaQnwV7ojDPLwnv+TUEcqoX1tvvjT3TFtrvDpBG3eA34BrIhd+y4+5nkAAAAASUVORK5CYII=",(function(t,i){if(t)throw t;e.addImage("video",i)}))})),e.on("click",(function(t){var a=e.queryRenderedFeatures(t.point,{layers:["address-point","building-fill","parcel-fill","streets-line"]});if(a.length>0){var s=a[0],l=k[s.sourceLayer];i({type:s.sourceLayer,id:"id"===l.click?s.id:s.properties[l.click]})}})),e.on("moveend",(function(t){if(e.getZoom()>17.5){var i=e.queryRenderedFeatures({layers:["mapillary-images"]}),a=U.a.uniqBy(i,"properties.id");m(a)}})),e.on("sourcedata",(function(t){if("mly"===t.sourceId&&!0===t.isSourceLoaded&&e.getZoom()>17.5){var i=e.queryRenderedFeatures({layers:["mapillary-images"]});m(U.a.uniqBy(i,"properties.id"))}}))}),[i]),Object(a.useEffect)((function(){if(x&&t.type&&t.id&&!h){var e=k[t.type],i=Object.keys(k).filter((function(e){return e!==t.type&&"units"!==e})),a=["==",e.filter_id,"parcels"===t.type?t.id:parseInt(t.id)];x.setFilter(e.highlight,a),i.forEach((function(e){x.setFilter(k[e].highlight,["==","$id",""])}))}}),[x,t,h]),Object(a.useEffect)((function(){x&&s&&!h&&x.easeTo({center:s.features[0].geometry.coordinates,zoom:x.getZoom()<17?17:x.getZoom()})}),[x,s,h]),Object(a.useEffect)((function(){if(x&&l&&t.type&&!h){var e=k[t.type],i=Object.keys(k).filter((function(e){return e!==t.type&&"units"!==e}));x.setFilter(e.link,["==","$id",""]),i.forEach((function(e){var t;t=1!==l[e].length||void 0!==l[e][0]&&null!==l[e][0]?["in",k[e].filter_id].concat(l[e]):["==",k[e].filter_id,""],x.setFilter(k[e].link,t)}))}}),[x,l,h,t.type]),Object(a.useEffect)((function(){x&&u&&(x.setFilter("mapillary-location",["==","id",parseInt(u.properties.id)]),x.setLayoutProperty("mapillary-location","icon-rotate",c-90))}),[u,c]),Object(a.useEffect)((function(){x&&!h&&(r?(x.setLayoutProperty("mapillary-location","visibility","visible"),x.flyTo({zoom:19})):x.setLayoutProperty("mapillary-location","visibility","none"))}),[r,h,x]),Object(a.useEffect)((function(){x&&("satellite"===d&&(x.setStyle(q()),O(!0)),"linen-map"===d&&(x.setStyle(G()),O(!0)),"default"===d&&(x.setStyle(H),O(!0)))}),[d]),Object(a.useEffect)((function(){if(x&&n&&n.geometry){var e=Object(M.a)(n),t=Object(W.a)(e.geometry).geometry.coordinates;x.easeTo({center:t,zoom:x.getZoom()<17?17:x.getZoom()})}}),[x,n]),Object(g.jsx)("div",{id:"map",className:"explorer-map"})},Z=i(17),Q={default:"Streets",satellite:"Satellite"},$=function(e){var t=e.options,i=e.setOptions,a=e.session,s=e.clicked;return a&&(Q["linen-map"]="Linen Map"),Object(g.jsx)("section",{className:"flex flex-col items-start",children:Object(g.jsxs)("div",{className:"flex justify-around md:justify-start gap-2 w-full",children:[Object(g.jsx)(j,{onClick:function(){return i(Object(Z.a)(Object(Z.a)({},t),{},{streetView:!t.streetView}))},icon:b.G,text:"Street view",active:t.streetView,disabled:null===s.id,className:"flex-grow-0",small:!0}),Object(g.jsxs)("div",{className:"flex h-9",children:[Object(g.jsxs)("div",{className:"px-3 font-semibold text-gray-900 flex items-center bg-blue-300 text-sm",children:[Object(g.jsx)(m.a,{icon:b.y,className:"mr-2"}),Object(g.jsx)("span",{children:"Basemap"})]}),Object(g.jsx)("select",{className:"pl-2 w-24 text-sm",onChange:function(e){return i(Object(Z.a)(Object(Z.a)({},t),{},{basemap:e.target.value}))},children:Object.keys(Q).map((function(e){return Object(g.jsx)("option",{value:e,children:Q[e]},e)}))})]})]})})},K=function(e){var t=e.buildings,i=e.setClicked;return t=t.sort((function(e,t){return t.semcog_build_type-e.semcog_build_type<-1})),Object(g.jsxs)("section",{className:"sidebar-section",style:{borderLeft:"8px solid ".concat(k.buildings.color)},children:[Object(g.jsx)("div",{className:"flex items-center justify-between mb-2",children:Object(g.jsxs)("h2",{className:"text-sm md:text-base",children:[t.length," linked building",t.length>1?"s:":":"]})}),t.map((function(e,a){return Object(g.jsxs)("div",{className:a+1<t.length?"py-1 flex items-center justify-between border-b-2 text-sm md:text-base":"text-sm md:text-base py-1 flex items-center justify-between",children:[Object(g.jsx)("span",{className:"text-xs md:text-base",children:e.ted_build_type}),Object(g.jsx)(A,{id:e.bldg_id,layer:k.buildings,setClicked:i,link:!0})]},e.bldg_id)}))]})},X=i(44),ee=i.n(X),te=i(116),ie=function(e){var t=e.feature,i=e.clicked,s=e.setClicked,l=(e.linked,e.setLinked),n=t.attributes,r={"Parcel address":n.assessor_address,"Assessor's property class":n.propclassdesc},c={},d=Object(a.useState)([]),u=Object(o.a)(d,2),m=u[0],b=u[1],p=Object(a.useState)([]),x=Object(o.a)(p,2),y=x[0],f=x[1],j=Object(a.useState)(null),h=Object(o.a)(j,2),O=h[0],v=h[1];return Object(a.useEffect)((function(){Object(te.a)({url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Parcels_Current/FeatureServer/0",where:"parcel_number = '".concat(n.parcel_id,"'"),returnGeometry:!1,outFields:["*"]}).then((function(e){fetch("https://apis.detroitmi.gov/assessments/parcel/".concat(n.parcel_id,"/")).then((function(e){return e.json()})).then((function(t){if(e.features.length>0){var i=e.features[0],a=i.attributes;a.legal_description=t.legaldescription,a.zoning=t.zoning,v(i.attributes)}}))}))}),[n.parcel_id]),O&&(console.log(O),c["Legal description"]=O.legal_description,r.Taxpayer=O.taxpayer_1,O.taxpayer_2&&(r["Taxpayer (ext)"]=O.taxpayer_2),r["Taxpayer Address"]="".concat(O.taxpayer_street,", ").concat(O.taxpayer_city,", ").concat(O.taxpayer_state),O.sale_date&&(r["Sale Date"]=ee()(O.sale_date).format("LL")),O.sale_date&&(r["Sale Price"]=parseInt(O.sale_price).toLocaleString()),r["PRE %"]=O.homestead_pre,O.nez&&(r.NEZ=O.nez),r["Is Improved?"]="1"===O.is_improved?"Yes":"No",r["Property Class"]="".concat(O.property_class," - ").concat(O.property_class_desc),r["Property Use"]="".concat(O.use_code," - ").concat(O.use_code_desc),O.total_floor_area&&(r["Total Floor Area"]="".concat(O.total_floor_area)),O.style&&(r.Style="".concat(O.style)),r["Taxable Status"]=O.tax_status,r["Assessed Value"]=parseInt(O.assessed_value).toLocaleString(),r["Taxable Value"]=parseInt(O.taxable_value).toLocaleString(),r["Total Acreage"]=O.total_acreage,r["Total Square Footage"]=O.total_square_footage,r["Depth x Frontage (ft)"]="".concat(O.depth," x ").concat(O.frontage),r.Zoning=O.zoning),Object(a.useEffect)((function(){var e=k.addresses.endpoint+"/query?",t={where:"parcel_id = '".concat(n.parcel_id,"'"),outFields:"*",outSR:4326,f:"pjson"},i=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&");fetch(e+i).then((function(e){return e.json()})).then((function(e){Object.keys(e).indexOf("features")>-1&&(e.features.length>0?(b(e.features.map((function(e){return e.attributes}))),l({addresses:e.features.map((function(e){return e.attributes.addr_id})),streets:Array.from(new Set(e.features.map((function(e){return e.attributes.street_id})))),buildings:Array.from(new Set(e.features.map((function(e){return e.attributes.bldg_id})))),parcels:[]})):(b([]),l({addresses:[],streets:[],buildings:[],parcels:[]})))}))}),[n.parcel_id,l]),Object(a.useEffect)((function(){var e=k.buildings.endpoint+"/query?",t={where:"parcel_id = '".concat(n.parcel_id,"'"),outFields:"*",outSR:4326,returnGeometry:"false",f:"pjson"},i=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&");fetch(e+i).then((function(e){return e.json()})).then((function(e){Object.keys(e).indexOf("features")>-1&&(e.features.length>0?f(e.features.map((function(e){return e.attributes}))):f([]))}))}),[n.parcel_id]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{attr:n,attributes:r,longAttributes:c,clicked:i}),y.length>0&&Object(g.jsx)(K,{buildings:y,setClicked:s}),m.length>0&&Object(g.jsx)(P,{addresses:m,setClicked:s})]})},ae=i(122),se="https://opengis.detroitmi.gov/opengis/rest/services/BaseUnits/BaseUnitGeocoderBoundaries/GeocodeServer",le="https://opengis.detroitmi.gov/opengis/rest/services/BaseUnits/BaseUnitGeocoder/GeocodeServer",ne="https://opengis.detroitmi.gov/opengis/rest/services/BaseUnits/BaseUnitGeocoderCenterline/GeocodeServer",oe=function(e){var t=Object(a.useState)(null),i=Object(o.a)(t,2),s=i[0],l=i[1],n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],d=r[1];return Object(a.useEffect)((function(){e&&Object(ae.a)({endpoint:ne,singleLine:e,outFields:"*"}).then((function(e){e.candidates.length>0&&(l(e.geoJson),d("point"))}))}),[e]),[s,c]},re=function(e){var t=e.setClicked,i=e.setGeocoded,s=Object(a.useState)(""),l=Object(o.a)(s,2),n=l[0],r=l[1],c=Object(a.useState)(null),d=Object(o.a)(c,2),u=d[0],m=d[1],p=oe(u),x=Object(o.a)(p,2),y=x[0],f=x[1];return Object(a.useEffect)((function(){var e=null===y||void 0===y?void 0:y.features[0];e&&"PointAddress"===e.properties.Addr_type?(t({type:"addresses",id:e.properties.address_id}),i(y)):e&&["StreetAddress","StreetInt"].indexOf(e.properties.Addr_type)>-1&&(t({}),i(y))}),[y,f]),Object(g.jsxs)("div",{className:"flex items-center justify-start text-sm md:text-base w-full bg-gray-200 p-2 md:p-3",children:[Object(g.jsx)("input",{className:"p-2 w-full md:w-1/2",type:"text",value:n,placeholder:"Search for an address or intersection",onChange:function(e){return r(e.target.value)},onKeyPress:function(e){return"Enter"===e.code&&m(n)}}),Object(g.jsx)(j,{active:""!==n,disabled:""===n,small:!0,className:"py-2",onClick:function(){return m(n)},text:"Search",icon:b.C})]})},ce=function(e){var t=e.feature,i=e.clicked,s=e.setClicked,l=(e.linked,e.setLinked),n=t.attributes,r={"Street direction":n.street_prefix,"Street name":n.street_name,"Street type":n.street_type,"MGF - Left range":"".concat(n.fraddl,"-").concat(n.toaddl),"MGF - Right range":"".concat(n.fraddr,"-").concat(n.toaddr),Jurisdiction:{0:"Non-Act 51 certified",1:"State trunkline",2:"County primary",3:"County local",4:"City major",5:"City minor",7:"Other public entity"}[n.legalsystem],"Functional class code":n.fcc,"Length of segment":n.segment_length?"".concat(n.segment_length.toFixed(0)," ft"):"?"},c=Object(a.useState)([]),d=Object(o.a)(c,2),u=d[0],m=d[1];return Object(a.useEffect)((function(){var e={where:"street_id = ".concat(n.street_id),outFields:"*",outSR:4326,f:"pjson"},t=Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");fetch("https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/ExtendedTablesWithIndices/FeatureServer/4/query?"+t).then((function(e){return e.json()})).then((function(e){Object.keys(e).indexOf("features")>-1&&(e.features.length>0?(m(e.features.map((function(e){return e.attributes}))),l({addresses:e.features.map((function(e){return e.attributes.addr_id})),streets:[],buildings:Array.from(new Set(e.features.map((function(e){return e.attributes.bldg_id})))).filter((function(e){return null!==e})),parcels:Array.from(new Set(e.features.map((function(e){return e.attributes.parcel_id})))).filter((function(e){return null!==e}))})):(m([]),l({addresses:[],streets:[],buildings:[],parcels:[]})))}))}),[n.street_id,l]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{attr:n,attributes:r,clicked:i}),u.length>0&&Object(g.jsx)(P,{addresses:u,setClicked:s})]})},de=function(e){var t,i,s=e.type,l=e.id,n=e.f,r=void 0===n?"arcjson":n,c=Object(a.useState)(null),d=Object(o.a)(c,2),u=d[0],m=d[1];return s&&(t=s?k[s]:null,i="parcels"===s?"".concat(t.id_column," = '").concat(l,"'"):"".concat(t.id_column," = ").concat(l)),Object(a.useEffect)((function(){s&&l&&Object(te.a)({url:t.endpoint,where:i,outFields:"*",resultRecordCount:1,outSR:4326}).then((function(e){m("arcjson"===r?e.features[0]:Object(M.a)(e.features[0]))}))}),[s,l]),u},ue=function(){return new URLSearchParams(Object(c.l)().search)},me=i(63),be=i(54),pe=i(74);function xe(e,t,i){var a=e.computedCompassAngle||e.properties.compass_angle;return[function(e,t){return function(e,t,i){for(var a=i-t;e>i||e<t;)e>i?e-=a:e<t&&(e+=a);return e}((e-t)/360+.5,0,1)}(Object(pe.a)(t,i),a),.45]}var ye={ballColor:"white",ballOpacity:.65,color:"#feb70d",opacity:.55,interactive:!1,radius:2},fe=function(e){var t=e.svImage,i=e.svImages,s=e.setSvImage,l=e.setSvBearing,n=e.feature,r=Object(a.useState)(null),c=Object(o.a)(r,2),d=c[0],u=c[1],p=Object(a.useState)(null),x=Object(o.a)(p,2),y=x[0],f=x[1];return Object(a.useEffect)((function(){var e=new me.b({accessToken:"MLY|4690399437648324|de87555bb6015affa20c3df794ebab15",container:"mly-viewer",component:{marker:!0,bearing:!1,cover:!0,attribution:!1,sequence:!1,cache:!0,direction:!0},imageId:null});e.deactivateCover(),u(e),e.on("image",(function(e){e.target.getBearing().then((function(e){return l(e)})),s({properties:Object(Z.a)(Object(Z.a)({},e.image._core),{},{sequence_id:e.image._spatial.sequence})})})),e.on("pov",(function(e){e.target.getBearing().then((function(e){return l(e)}))}))}),[]),Object(a.useEffect)((function(){if(d){var e=Object(W.a)(Object(M.a)(n)).geometry.coordinates,a=new me.a("default-id",{lat:e[1],lng:e[0]},ye);d.getComponent("marker").add([a]);var l=U.a.sortBy(i,(function(e){return Object(be.a)(e.geometry,Object(W.a)(Object(M.a)(n)))}));if(t){var o=l.filter((function(e){return e.properties.sequence_id===t.properties.sequence_id}));o.length>0?s(o[0]):s(l.slice(0,20).sort((function(e,t){return e.properties.captured_at<t.properties.captured_at}))[0])}else s(l.slice(0,20).sort((function(e,t){return e.properties.captured_at<t.properties.captured_at}))[0]);d.moveTo(l.slice(0,20).sort((function(e,t){return e.properties.captured_at<t.properties.captured_at}))[0].properties.id).then((function(e){var t=xe(e,e._core.geometry.coordinates?e._core.geometry.coordinates:[e._core.geometry.lng,e._core.geometry.lat],Object(W.a)(Object(M.a)(n)).geometry.coordinates);d.setCenter(t)}))}}),[n,d]),Object(a.useEffect)((function(){var e=U.a.sortBy(i,(function(e){return Object(be.a)(e.geometry,Object(W.a)(Object(M.a)(n)))})).slice(0,20),t=U.a.uniqBy(e,"properties.sequence_id").map((function(e){return{sequence_id:e.properties.sequence_id,image_id:e.properties.id,captured_at:e.properties.captured_at,readable_ts:ee()(e.properties.captured_at).format("ll")}})).sort((function(e,t){return t.captured_at>e.captured_at}));f(U.a.uniqBy(t,"readable_ts"))}),[i]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{className:"text-sm md:text-lg bg-gray-200 p-2 flex items-center justify-between",children:[Object(g.jsxs)("span",{children:[Object(g.jsx)(m.a,{icon:b.G,className:"mr-2"}),"Street view"]}),y&&t&&Object(g.jsx)("select",{value:t.properties.sequence_id,onChange:function(e){var t=U.a.sortBy(i,(function(e){return Object(be.a)(e.geometry,Object(W.a)(Object(M.a)(n)))})).filter((function(t){return t.properties.sequence_id==e.target.value}));d.moveTo(t[0].properties.id).then((function(e){var t=xe(e,e._core.geometry.coordinates?e._core.geometry.coordinates:[e._core.geometry.lng,e._core.geometry.lat],Object(W.a)(Object(M.a)(n)).geometry.coordinates);d.setCenter(t)}))},children:y.map((function(e){return Object(g.jsx)("option",{value:e.sequence_id,children:e.readable_ts},e.sequence_id)}))})]}),Object(g.jsx)("section",{className:"sidebar-section street-view",children:Object(g.jsx)("div",{id:"mly-viewer",style:{height:300,width:"100%"}})})]})},ge=i(117),je={parcels:"Parcel",addresses:"Address",buildings:"Building",streets:"Street"},he=function(e){var t=e.session,i=e.geocoded,s=e.clicked,l=e.feature,n=Object(a.useState)(!1),r=Object(o.a)(n,2),c=r[0],d=r[1],u=Object(a.useState)(""),p=Object(o.a)(u,2),x=p[0],y=p[1],f=Object(a.useState)(!1),h=Object(o.a)(f,2),O=h[0],_=h[1],w=Object(a.useState)(null),z=Object(o.a)(w,2),S=z[0],N=z[1],R=Object(a.useState)(""),k=Object(o.a)(R,2),F=k[0],A=k[1];return Object(g.jsxs)("section",{className:"bg-gray-300 p-2 md:p-3 mt-2",children:[Object(g.jsxs)("div",{className:"flex items-center justify-between",onClick:function(){return d(!c)},children:[Object(g.jsxs)("div",{className:c?"text-gray-800 flex items-center justify-around":"text-gray-500 flex items-center justify-around",children:[Object(g.jsx)(m.a,{icon:b.q,className:"mr-2"}),Object(g.jsx)("h3",{className:"text-sm md:text-base",children:"Report an issue here"})]}),Object(g.jsx)(m.a,{icon:c?b.h:b.i,className:"mx-1 text-xl text-gray-500"})]}),Object(g.jsxs)(v.a,{duration:250,height:c?"auto":0,children:[Object(g.jsxs)("div",{className:"p-2 my-2 text-sm md:text-base",children:[s.type&&Object(g.jsxs)("div",{className:"flex items-center gap-2",children:[Object(g.jsx)("input",{value:je[s.type],disabled:!0,type:"text",className:"p-2 my-1 w-1/3"}),Object(g.jsx)("input",{value:s.id,disabled:!0,type:"text",className:"p-2 my-1 w-1/3"})]}),!s.type&&i&&Object(g.jsx)("input",{value:i.features[0].properties.address,disabled:!0,type:"text",className:"p-2"}),Object(g.jsx)("p",{className:"py-2",children:"Describe the issue:"}),Object(g.jsx)("textarea",{type:"text",maxLength:"255",className:"w-11/12 h-40 p-2",value:x,onChange:function(e){y(e.target.value),_(!1)}}),!t&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{className:"py-2",children:"Your e-mail address:"}),Object(g.jsx)("input",{type:"text",className:"p-2",value:F,onChange:function(e){return A(e.target.value)}})]})]}),Object(g.jsx)("div",{className:"flex items-center justify-around",children:!S&&Object(g.jsx)(j,{active:""!==x&&!O,disabled:""===x,text:"Submit",small:!0,icon:b.o,className:"w-2/3 flex items-center justify-center",onClick:function(){var e,a;if("addresses"==s.type&&(e=l.geometry.x,a=l.geometry.y),["parcels","streets","buildings"].includes(s.type)){var n=Object(W.a)(Object(M.a)(l));e=n.geometry.coordinates[0],a=n.geometry.coordinates[1]}!s.type&&i&&(e=i.features[0].geometry.coordinates[0],a=i.features[0].geometry.coordinates[1]),function(e){var t=e.session,i=e.formText,a=e.address,s=e.x,l=e.y,n=e.targetType,o=e.targetId,r=e.emailAddress,c=e.setAddResponse;Object(ge.a)({url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/issue_reporter/FeatureServer/0",features:[{geometry:{x:s,y:l,spatialReference:{wkid:4326}},attributes:{address:a,feature_type:n,feature_id:o,email:r,issue:i}}],authentication:t||null}).then((function(e){return c(e)}))}({session:t,formText:x,address:s.type?null:i.features[0].properties.address,x:e,y:a,targetType:s.type?je[s.type].toLowerCase():null,targetId:s.id?s.id.toString():null,emailAddress:t?null:F,setAddResponse:N}),_(!0)}})}),S&&S.addResults[0].success&&Object(g.jsx)(j,{icon:b.J,small:!0,className:"mx-auto",text:"Thanks for reporting this issue!",onClick:function(){d(!1),N(null),y("")}})]})]})},Oe=function(e){var t=e.session,i=e.setSession,s=e.login,l=e.setLogin,n=(e.currentApp,ue()),d=n.get("type"),u=n.get("id"),p=n.get("streetview"),y=(n.get("image"),Object(c.k)()),f=Object(a.useState)({type:d||null,id:u||null}),j=Object(o.a)(f,2),h=j[0],O=j[1],v=de(h),z=Object(a.useState)(null),S=Object(o.a)(z,2),R=S[0],k=S[1],F=Object(a.useState)({addresses:[],parcels:[],buildings:[],streets:[]}),A=Object(o.a)(F,2),C=A[0],L=A[1],E=Object(a.useState)({streetView:"true"===p,basemap:"default"}),P=Object(o.a)(E,2),V=P[0],D=P[1],M=Object(a.useState)(null),W=Object(o.a)(M,2),I=W[0],U=W[1],H=Object(a.useState)(null),q=Object(o.a)(H,2),G=q[0],Y=q[1],Z=Object(a.useState)([]),Q=Object(o.a)(Z,2),K=Q[0],X=Q[1];Object(a.useEffect)((function(){h.type&&h.id&&y.push("?id=".concat(h.id,"&type=").concat(h.type).concat(V.streetView?"&streetview=true":""))}),[h,y,V.streetView]);var ee=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{children:"This tool is for exploring the base units and visualizing the relationships between them."}),Object(g.jsx)("p",{children:"You can start by:"}),Object(g.jsxs)("ul",{className:"list-disc list-outside ml-4 pb-2",children:[Object(g.jsx)("li",{children:"Searching for an address"}),Object(g.jsx)("li",{children:"Clicking a feature on the map"})]}),Object(g.jsx)("p",{children:"Once an address, building, parcel, or street is selected, you'll be able to see the other base units it is linked to."}),Object(g.jsxs)("p",{children:["Click the ",Object(g.jsx)(m.a,{icon:b.b,className:"mx-1 tex"})," next to a linked base unit's ID to navigate to that linked unit."]}),Object(g.jsx)("p",{children:"You can also see a street view image of the currently selected feature, or turn on satellite imagery on the map."})]});return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_,{session:t,setSession:i,login:s,setLogin:l,currentApp:"explorer"}),Object(g.jsx)(N,{app:x.explorer,introduction:ee,introOpen:!1,children:Object(g.jsx)($,{options:V,setOptions:D,session:t,clicked:h})}),Object(g.jsxs)(w,{title:"Explorer",children:[V.streetView&&0===K.length&&Object(g.jsx)("section",{className:"",children:"Loading street view imagery..."}),V.streetView&&K.length>0&&Object(g.jsx)(fe,{svImage:G,svImages:K,setSvImage:Y,setSvBearing:U,feature:v}),"addresses"===h.type&&v&&Object(g.jsx)(B,{feature:v,clicked:h,setClicked:O,linked:C,setLinked:L}),"buildings"===h.type&&v&&Object(g.jsx)(T,{feature:v,clicked:h,setClicked:O,linked:C,setLinked:L}),"parcels"===h.type&&v&&Object(g.jsx)(ie,{feature:v,clicked:h,setClicked:O,linked:C,setLinked:L}),"streets"===h.type&&v&&Object(g.jsx)(ce,{feature:v,clicked:h,setClicked:O,linked:C,setLinked:L}),(h.type||R)&&Object(g.jsx)(he,{session:t,clicked:h,geocoded:R,feature:v}),v&&"addresses"===h.type&&t&&Object(g.jsx)("section",{className:"sidebar-section caution",children:Object(g.jsxs)(r.Link,{to:"/linker?type=".concat(h.type,"&id=").concat(h.id),children:[Object(g.jsx)(m.a,{icon:b.w}),Object(g.jsx)("span",{className:"text-semibold text-sm ml-2",children:"Edit address links"})]})})]}),Object(g.jsxs)("main",{children:[Object(g.jsx)(re,{setClicked:O,setGeocoded:k}),Object(g.jsx)(J,{clicked:h,setClicked:O,geocoded:R,linked:C,feature:v,history:y,svImage:G,setSvImages:X,svBearing:I,basemap:V.basemap,showSv:V.streetView})]})]})},ve=i(51),_e=i(118),we=function(e){var t=e.session,i=e.setSession,s=e.login,l=e.setLogin,n=Object(a.useState)(""),c=Object(o.a)(n,2),d=c[0],u=c[1],m=d.split("\n").filter((function(e){return""!==e})),p=Object(a.useState)(!0),y=Object(o.a)(p,2),f=y[0],h=y[1],O=Object(a.useState)(!0),v=Object(o.a)(O,2),z=v[0],S=v[1],R=Object(a.useState)(!0),k=Object(o.a)(R,2),F=k[0],A=k[1],C=Object(a.useState)(!0),B=Object(o.a)(C,2),L=B[0],E=B[1],P=Object(a.useState)(!0),T=Object(o.a)(P,2),V=T[0],D=T[1],M=Object(a.useState)([]),W=Object(o.a)(M,2),I=W[0],U=W[1],H=Object(a.useState)([]),q=Object(o.a)(H,2),G=q[0],Y=q[1];Object(a.useEffect)((function(){if(I.length>0){var e=m.map((function(e,t){return{OBJECTID:t+1,SingleLine:e}}));Object(_e.a)({addresses:e,endpoint:se,params:{outSR:4326,outFields:"*"}}).then((function(e){Y(e.locations.sort((function(e,t){return e.attributes.ResultID-t.attributes.ResultID})))}))}}),[I]);var J=G.map((function(e,t){return{input:m[t],address:e.attributes.StAddr,zip_code:e.attributes.Postal,address_id:e.attributes.address_id,building_id:e.attributes.building_id,parcel_id:'=""'.concat(e.attributes.parcel_id,'""'),street_id:e.attributes.street_id,lng:e.attributes.X.toFixed(5),lat:e.attributes.Y.toFixed(5),council_district:e.attributes.council_district,is_qualified_census_tract:e.attributes.is_qualified_census_tract}}));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_,{session:t,setSession:i,login:s,setLogin:l,currentApp:"geocoder"}),Object(g.jsx)(N,{app:x.geocoder}),Object(g.jsxs)(w,{title:"Geocoder",children:[Object(g.jsxs)("section",{className:"sidebar-section",children:[Object(g.jsx)("h2",{children:"1. Enter your list of addresses"}),Object(g.jsx)("p",{className:"text-sm",children:"Please put one address on each line"}),Object(g.jsx)("textarea",{className:"mt-2 border w-full p-2 text-sm",value:d,rows:8,type:"text",onChange:function(e){return u(e.target.value)}}),Object(g.jsxs)("p",{className:"text-sm",children:[m.length," addresses to geocode"]})]}),Object(g.jsxs)("section",{className:"sidebar-section",children:[Object(g.jsx)("h2",{children:"2. Choose your fields to output"}),Object(g.jsxs)("div",{className:"checkbox-option",children:[Object(g.jsx)("input",{type:"checkbox",id:"matched",name:"matched",onChange:function(){return h(!f)},checked:f}),Object(g.jsx)("label",{htmlFor:"matched",children:"Matched address"})]}),Object(g.jsxs)("div",{className:"checkbox-option",children:[Object(g.jsx)("input",{type:"checkbox",id:"council",name:"council",onChange:function(){return A(!F)},checked:F}),Object(g.jsx)("label",{htmlFor:"council",children:"Council district"})]}),Object(g.jsxs)("div",{className:"checkbox-option",children:[Object(g.jsx)("input",{type:"checkbox",id:"qct",name:"qct",onChange:function(){return E(!L)},checked:L}),Object(g.jsx)("label",{htmlFor:"qct",children:"Qualified Census Tract"})]}),Object(g.jsxs)("div",{className:"checkbox-option",children:[Object(g.jsx)("input",{type:"checkbox",id:"coords",name:"coords",onChange:function(){return S(!z)},checked:z}),Object(g.jsx)("label",{htmlFor:"coords",children:"Coordinates"})]}),Object(g.jsxs)("div",{className:"checkbox-option",children:[Object(g.jsx)("input",{type:"checkbox",id:"ids",name:"ids",onChange:function(){return D(!V)},checked:V}),Object(g.jsx)("label",{htmlFor:"ids",children:"Attach IDs"})]})]}),Object(g.jsxs)("section",{className:"sidebar-section flex justify-between",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"3. Geocode!"}),Object(g.jsx)("p",{className:"text-sm",children:"Match addresses to locations"})]}),Object(g.jsx)(j,{active:m.length>0,small:!0,disabled:0===m.length,onClick:function(){m.length>0&&U(m)},text:m.length>0?"Go!":"No addresses",icon:m.length>0?b.g:b.d})]}),J.length>0&&Object(g.jsxs)("section",{className:"sidebar-section flex justify-between",children:[Object(g.jsx)("div",{children:Object(g.jsx)("h2",{children:"4. Export"})}),Object(g.jsx)(ve.CSVLink,{data:J,filename:"geocode_results_".concat((new Date).getTime(),".csv"),children:Object(g.jsx)(j,{active:G.length>0,disabled:0===G.length,icon:b.m,small:!0,text:"Export to .csv"})})]})]}),Object(g.jsx)("main",{children:G.length>0&&Object(g.jsxs)("div",{className:"p-2",children:[Object(g.jsx)("p",{className:"text-xl font-bold pb-3",children:"Your geocoding results"}),Object(g.jsxs)("table",{className:"w-full",children:[Object(g.jsx)("thead",{style:{position:"sticky"},children:Object(g.jsxs)("tr",{style:{position:"sticky"},children:[Object(g.jsx)("th",{children:"Input"}),f&&Object(g.jsx)("th",{children:"Match"}),F&&Object(g.jsx)("th",{children:"Council Dist."}),L&&Object(g.jsx)("th",{children:"Qualified Tract"}),z&&Object(g.jsx)("th",{children:"Longitude"}),z&&Object(g.jsx)("th",{children:"Latitude"}),V&&Object(g.jsx)("th",{children:"Address ID"}),V&&Object(g.jsx)("th",{children:"Building ID"}),V&&Object(g.jsx)("th",{children:"Parcel ID"}),V&&Object(g.jsx)("th",{children:"Street ID"})]})}),Object(g.jsx)("tbody",{className:"w-full",children:G.map((function(e,t){return Object(g.jsxs)("tr",{className:t%2===1?"text-sm":"text-sm bg-gray-100",children:[Object(g.jsx)("td",{children:m[t]}),f&&Object(g.jsx)("td",{children:e.attributes.StAddr}),F&&Object(g.jsx)("td",{children:e.attributes.council_district}),L&&Object(g.jsx)("td",{children:e.attributes.is_qualified_census_tract}),z&&Object(g.jsx)("td",{children:e.attributes.Y.toFixed(5)}),z&&Object(g.jsx)("td",{children:e.attributes.X.toFixed(5)}),V&&Object(g.jsx)("td",{children:Object(g.jsx)(r.Link,{to:"/explorer?type=addresses&id=".concat(e.attributes.address_id),children:e.attributes.address_id})}),V&&Object(g.jsx)("td",{children:Object(g.jsx)(r.Link,{to:"/explorer?type=buildings&id=".concat(e.attributes.building_id),children:e.attributes.building_id})}),V&&Object(g.jsx)("td",{children:Object(g.jsx)(r.Link,{to:"/explorer?type=parcels&id=".concat(e.attributes.parcel_id),children:e.attributes.parcel_id})}),V&&Object(g.jsx)("td",{children:Object(g.jsx)(r.Link,{to:"/explorer?type=streets&id=".concat(e.attributes.street_id),children:e.attributes.street_id})})]},"".concat(e.address," - ").concat(t))}))})]})]})})]})},ze=function(){return Object(g.jsxs)("footer",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 md:gap-2 py-4 justify-between px-3 text-xs",children:[Object(g.jsx)("p",{children:"City of Detroit, 2021."}),Object(g.jsxs)("p",{children:["Feedback?"," ",Object(g.jsx)("a",{href:"https://app.smartsheet.com/b/form/6919c51a844448e2a6811f04a6267292",children:"Write to us here"}),", or  "," ",Object(g.jsx)("a",{href:"https://github.com/CityOfDetroit/base-unit-tools",children:"open an issue."})]})]})},Se=function(e){e.session,e.setSession;var t=e.children;return Object(g.jsxs)(g.Fragment,{children:[t,Object(g.jsx)(ze,{})]})},Ne=function(e){var t={housenum:null,direction:null,streetname:null,streettype:null,unittype:null,unitnum:null},i=[];[{rule:"House number: front digits",regex:/^([\d]+)/,target_field:"housenum",capture:2,remove:!0},{rule:"Unit number: back digits + letter, suffix",regex:/\s#?([\d-]+?[a-zA-Z-]?)$/,target_field:"unitnum",capture:2,remove:!0},{rule:"Unit type: suffix",regex:/(APT|UNIT|SUITE|STE|REAR|UPPER|UPPR|LOWR|LOWER|OFC)$/i,target_field:"unittype",capture:2,remove:!0},{rule:"Street Direction: prefix",regex:/^(E|W|N|S|EAST|WEST|NORTH|SOUTH)\s/i,target_field:"direction",capture:2,remove:!0},{rule:"Street Direction: suffix",regex:/\s(E|W|N|S|EAST|WEST|NORTH|SOUTH)$/i,target_field:"direction",capture:2,remove:!0},{rule:"Street Type: suffix",regex:/\s(ST|AVE|RD|HWY|STREET|AVENUE|ROAD|PLACE|PL|DRIVE|DR|BLVD)$/i,target_field:"streettype",capture:2,remove:!0}].forEach((function(a){var s=a.regex.exec(e);s&&s.length>0&&(t[a.target_field]=s[a.capture-1],a.results=s,i.push(a),a.remove&&(e=e.replace(a.regex,"").trim()))}));return[{rule:"Expand: ST FAIR => STATE FAIR",regex:/(ST FAIR)/gi,replacement:"State Fair "},{rule:"Expand: GD => GRAND",regex:/(GD)\s/gi,replacement:"Grand "},{rule:"Expand: MT => MOUNT",regex:/(MT)\s/gi,replacement:"Mount "},{rule:"Expand: ST => SAINT",regex:/(ST)\s/gi,replacement:"Saint "},{rule:"Expand: 7 Mile => Seven Mile",regex:/(7 MILE)/gi,replacement:"Seven Mile"},{rule:"Expand: 8 Mile => Eight Mile",regex:/(8 MILE)/gi,replacement:"Eight Mile"},{rule:"Standardize: CLAIRMONT => CLAIRMOUNT",regex:/(CLAIRMONT)/gi,replacement:"Clairmount"}].forEach((function(t){var a=t.regex.exec(e);a&&a.length>0&&(e=e.replace(t.regex,t.replacement),t.results=a,i.push(t))})),t.streetname=""===e.trim()?null:e.trim(),{results:t,applied:i}},Re=i(119),ke={PointAddress:{name:"address point"},Subaddress:{name:"unit address point"},StreetAddress:{name:"street centerline address"},StreetInt:{name:"street centerline intersection"}},Fe=function(e){var t,i=e.candidate,a=null===(t=i.properties.address)||void 0===t?void 0:t.split(","),s=Object(o.a)(a,3),l=s[0];s[1],s[2];return Object(g.jsx)("div",{children:Object(g.jsxs)("section",{className:"sidebar-section flex items-center justify-between",children:[Object(g.jsx)("h3",{className:"",children:l}),Object(g.jsx)("h4",{children:ke[i.properties.Addr_type].name})]})})},Ae=function(e){var t=e.session,i=e.setSession,s=e.login,l=e.setLogin,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],d=r[1],u=Object(a.useState)(null),m=Object(o.a)(u,2),p=m[0],y=m[1],f=oe(p),h=Object(o.a)(f,2),O=h[0],v=(h[1],Object(a.useState)([])),z=Object(o.a)(v,2),S=z[0],R=z[1],k=Ne(c),F=(k.results,k.applied,Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{children:"Use this tool to see how our address parser breaks down a full address into its component parts, like street number and street name."}),Object(g.jsx)("p",{children:"Enter one address in the box below and you'll see the output of the parser."}),Object(g.jsxs)("p",{children:["The Rules Applied section will show you how the tool is working. For example, if you enter ",Object(g.jsx)("i",{children:"123 St Aubin"})," you'll see that the ",Object(g.jsx)("i",{children:"St"})," ","has been expanded to ",Object(g.jsx)("i",{children:"Saint."})]})]}));return Object(a.useEffect)((function(){Object(Re.a)(c,{endpoint:le}).then((function(e){R(e.suggestions)}))}),[c]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_,{session:t,setSession:i,login:s,setLogin:l,currentApp:"validator"}),Object(g.jsx)(N,{app:x.validator,introduction:F}),Object(g.jsx)(w,{title:"Validator"}),Object(g.jsxs)("main",{children:[Object(g.jsxs)("section",{className:"sidebar-section mb-2",children:[Object(g.jsx)("h2",{children:"Address to validate"}),Object(g.jsxs)("div",{className:"flex items-center justify-between",children:[Object(g.jsx)("input",{className:"p-3 w-full mt-2",type:"text",value:c,onChange:function(e){d(e.target.value),y(null)}}),Object(g.jsx)(j,{icon:b.g,onClick:function(){return y(c)},text:"Validate",small:!0,className:"p-1"})]})]}),S.length>0&&!p&&Object(g.jsx)("section",{className:"bg-gray-200 px-2 py-1",children:S.map((function(e){return Object(g.jsxs)("div",{className:"bg-grey-200 flex items-center justify-start my-2 text-sm",onClick:function(){d(e.text.split(",")[0]),R([]),y(e.text.split(",")[0])},children:[Object(g.jsx)("span",{className:"w-2/3 text-sm text-gray-700",children:e.text}),Object(g.jsx)("pre",{children:e.score})]},e.text)}))}),p&&O&&Object(g.jsx)(g.Fragment,{children:O.features.map((function(e){return Object(g.jsx)(Fe,{candidate:e})}))})]})]})},Ce=i(120),Be=i(77),Le=(i(100),function(e){var t=e.onClick,i=e.title,a=e.active;return Object(g.jsx)("button",{className:a?"p-2 flex items-center justify-around w-1/3 text-sm bg-blue-200 font-semibold":"p-2 flex items-center justify-around w-1/3 text-sm bg-gray-200 font-light",onClick:t,onKeyDown:function(e){return 13===e.keycode&&t()},children:Object(g.jsx)("span",{children:i})})}),Ee=function(e){e.geom;var t=e.setGeom,i=Object(a.useState)(""),s=Object(o.a)(i,2),l=s[0],n=s[1],r=Object(a.useState)(null),c=Object(o.a)(r,2),d=c[0],u=c[1],m=oe(d),p=Object(o.a)(m,2),x=p[0],y=p[1];return Object(a.useEffect)((function(){x&&Object(te.a)({url:k.parcels.endpoint,where:"".concat(k.parcels.id_column," = '").concat(x.features[0].properties.parcel_id,"'"),outFields:"*",resultRecordCount:1,outSR:4326,f:"json"}).then((function(e){e.features.length>0?t(Object(M.a)(e)):t(x)}))}),[x]),Object(g.jsxs)("section",{className:"sidebar-section",children:[Object(g.jsxs)("h2",{className:"flex items-center justify-between",children:["Search for an address:",y&&"none"===y&&Object(g.jsx)("div",{className:"flex items-end justify-start text-xs font-semibold bg-red-400 text-gray-700 px-4 py-1",children:"No results found!"})]}),Object(g.jsxs)("div",{className:"flex items-center justify-start text-sm",children:[Object(g.jsx)("input",{className:"p-3 w-full bg-",type:"text",value:l,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return"Enter"===e.code&&u(l)}}),Object(g.jsx)(j,{active:""!==l,disabled:""===l,small:!0,className:"py-2",onClick:function(){return u(l)},text:"Search",icon:b.C})]})]})},Pe=i(78),Te=function(e){var t=e.geom,i=e.setGeom,s=Object(a.useState)(300),l=Object(o.a)(s,2),n=l[0],r=l[1],c={feet:189394e-9,meters:621371e-9,yards:568182e-9},d=Object(a.useState)(Object.keys(c)[0]),u=Object(o.a)(d,2),m=u[0],p=u[1],x=n*c[m];return Object(g.jsxs)("section",{className:"sidebar-section",children:[Object(g.jsx)("h2",{children:"Buffer current selection"}),Object(g.jsxs)("div",{className:"flex items-center justify-between mx-2",children:[Object(g.jsxs)("div",{className:"w-1/2",children:[Object(g.jsx)("input",{type:"number",value:n,onChange:function(e){return r(e.target.value)},className:"p-2 mr-2 w-1/2"}),Object(g.jsx)("select",{className:"p-2",onChange:function(e){return p(e.target.value)},children:Object.keys(c).map((function(e){return Object(g.jsx)("option",{value:e,children:e},e)}))})]}),Object(g.jsx)(j,{icon:b.r,onClick:function(){return i(Object(Pe.a)(t,x,{units:"miles"}))},text:"".concat(n," ").concat(m),small:!0})]})]})},Ve=i(80),De=i(79),Me={census_tracts:{name:"Census Tracts",singular:"Census tract",pickColumn:"NAMELSAD10",url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/2010_Census_Tracts/FeatureServer/0/"},neighborhoods:{name:"Neighborhoods",singular:"neighborhood",pickColumn:"nhood_name",url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Current_City_of_Detroit_Neighborhoods/FeatureServer/0/"},historic_districts:{name:"Historic Districts",singular:"historic district",pickColumn:"Name",url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Detroit_Local_Historic_Districts/FeatureServer/0/"},master_planning_neighborhoods:{name:"Master Plan Neighborhoods",singular:"master plan neighborhood",pickColumn:"NHOOD",url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/MasterPlanNeighborhood/FeatureServer/0/"},zip_codes:{name:"ZIP codes",singular:"zip code",pickColumn:"zipcode",url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/ZipCodes/FeatureServer/0/"},council_districts:{name:"Council Districts",singular:"Council district",pickColumn:"Name",url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/CouncilDistricts/FeatureServer/0/"},cbo:{name:"CBOs",singular:"CBO area",url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/CBO_Impact_Areas/FeatureServer/0/",pickColumn:"Name"},pdd_planning_areas:{name:"PDD Planning Projects",singular:"Planning project",url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/PDD_Planning_Projects/FeatureServer/1/",pickColumn:"Proj_NAME"}},We=function(e){var t=e.geom,i=e.setGeom,s=Object(a.useState)(""),l=Object(o.a)(s,2),n=l[0],r=l[1],c=Object(a.useState)([]),d=Object(o.a)(c,2),u=d[0],m=d[1],b=Object(a.useState)(null),p=Object(o.a)(b,2),x=p[0],y=p[1];return Object(a.useEffect)((function(){""!==n&&Object(te.a)({url:Me[n].url,geometryPrecision:5,f:"geojson"}).then((function(e){var t=e.features.sort((function(e,t){return e.properties[Me[n].pickColumn]>t.properties[Me[n].pickColumn]}));m(t)}))}),[n]),Object(a.useEffect)((function(){y(null)}),[t]),Object(a.useEffect)((function(){if(x){var e=u.filter((function(e){return e.id===parseInt(x.value)})),t=Object(Ve.a)(e[0],{tolerance:1e-4});i({type:"FeatureCollection",features:[t]})}}),[x]),Object(g.jsxs)("section",{className:"sidebar-section",children:[Object(g.jsx)("h2",{children:"Choose from existing boundaries"}),Object(g.jsx)("p",{children:"Choose your layer, then choose a feature within that layer."}),Object(g.jsxs)("select",{className:"p-2 m-2 text-xs w-1/3",onChange:function(e){r(e.target.value),m([])},value:n,children:[Object(g.jsx)("option",{value:"",children:"Please choose a layer"}),Object.keys(Me).map((function(e){return Object(g.jsx)("option",{value:e,children:Me[e].name},e)}))]}),u.length>0&&Object(g.jsx)(De.a,{options:u.map((function(e){return{value:e.id,label:e.properties[Me[n].pickColumn].slice(0,40)}})),defaultValue:null,onChange:y})]})},Ie=i(75),Ue=i.n(Ie),He=i(47),qe=function(e){var t=e.geom,i=e.setGeom,s=e.mode,l=(e.setMode,e.features),n=e.filtered,r=Object(a.useState)(null),c=Object(o.a)(r,2),d=c[0],u=c[1],m=Object(a.useState)(null),b=Object(o.a)(m,2),p=b[0],x=b[1];return Object(a.useEffect)((function(){var e=new D.a.Map({container:"map",style:H,bounds:[-83.287803,42.255192,-82.910451,42.45023]}),t=new Ue.a({displayControlsDefault:!1});x(t),e.addControl(t,"top-left"),e.on("load",(function(t){u(e),e.resize(),e.setPaintProperty("parcel-line","line-opacity",{base:1,stops:[[14,0],[14.1,.15]]}),e.addSource("filtered",{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:!0,clusterMaxZoom:22,clusterRadius:1,clusterMinPoints:5}),e.addSource("filtered-parcels",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:"filtered-parcels",source:"filtered-parcels",type:"line"}),e.addLayer({id:"filtered-addresses-single",source:"filtered",type:"circle",filter:["!",["has","point_count"]],paint:{"circle-radius":{base:1,stops:[[10.5,.2],[13.5,1],[16.5,3],[19,12]]},"circle-color":"yellow","circle-stroke-color":"#333","circle-stroke-width":{base:1,stops:[[10.5,.2],[13.5,.5],[16.5,1],[19,3]]}}}),e.addLayer({id:"filtered-addresses-cluster",source:"filtered",type:"circle",filter:["has","point_count"],paint:{"circle-radius":{base:1,stops:[[10.5,.2],[13.5,8],[16.5,10],[19,18]]},"circle-color":"yellow","circle-stroke-color":"#333","circle-stroke-width":{base:1,stops:[[10.5,.2],[13.5,.5],[16.5,1],[19,3]]}}}),e.addLayer({id:"clustered-address-labels",source:"filtered",type:"symbol",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Avenir Next LT Pro Bold"],"text-size":11}})})),e.on("draw.create",(function(a){var s=t.getAll();i(s),"Polygon"===s.features[0].geometry.type&&e.fitBounds(Object(He.a)(s),{padding:20,maxZoom:17})})),e.on("draw.update",(function(e){i(t.getAll())})),e.on("draw.modechange",(function(e){t.getAll().features.length>1&&"draw"===e.mode.slice(0,4)&&t.delete(t.getAll().features[0].id)}))}),[i]),Object(a.useEffect)((function(){if(d&&p&&t){if("Point"!==t.features[0].geometry.type)d.fitBounds(Object(He.a)(t),{padding:40,maxZoom:17});else{var e=t.features[0].geometry.coordinates;d.easeTo({center:e,zoom:17})}p.set(t),p.changeMode("simple_select")}d&&p&&!t&&p.getAll().features.length>0&&p.delete(p.getAll().features[0].id)}),[t,p,d]),Object(a.useEffect)((function(){d&&p&&s&&p.changeMode(s)}),[s]),Object(a.useEffect)((function(){d&&l&&d.getSource("filtered").setData(l)}),[l]),Object(a.useEffect)((function(){d&&n&&d.getSource("filtered-parcels").setData({type:"FeatureCollection",features:n.map((function(e){return Object(M.a)(e)}))})}),[n]),Object(g.jsx)("div",{id:"map",className:"mailer-map"})},Ge=i(76),Ye=function(e){var t=e.geom,i=e.setGeom,a=e.resultIds;return Object(g.jsxs)("section",{className:"sidebar-section",children:[Object(g.jsx)("h2",{children:"Current selection:"}),Object(g.jsxs)("ul",{className:"list-disc list-inside",children:[Object(g.jsxs)("li",{children:[(3.86102e-7*Object(Ge.a)(t)).toFixed(3)," square miles"]}),a&&Object(g.jsxs)("li",{children:[a.objectIds.length.toLocaleString()," total addresses in the selection area"]})]}),Object(g.jsx)("div",{className:"flex flex-row-reverse",children:Object(g.jsx)(j,{icon:b.I,onClick:function(){return i(null)},text:"Delete current selection",small:!0})})]})},Je=i(64),Ze=function(e){var t=e.filtered,i=[{accessor:"fnl_priadr",Header:"Address"},{accessor:"fnl_secadr",Header:"Unit"},{accessor:"usps_status",Header:"USPS Status"}],s=Object(a.useMemo)((function(){return i}),[t]),l=Object(a.useMemo)((function(){return t.map((function(e){return e.attributes}))}),[t]),n=Object(Je.useTable)({columns:s,data:l,initialState:{pageIndex:0,pageSize:15}},Je.usePagination),o=n.getTableProps,r=n.getTableBodyProps,c=n.headerGroups,d=(n.rows,n.prepareRow),u=n.page,m=n.canPreviousPage,b=n.canNextPage,p=n.pageOptions,x=n.pageCount,y=n.gotoPage,f=n.nextPage,j=n.previousPage,h=(n.setPageSize,n.state),O=h.pageIndex;h.pageSize;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("table",Object(Z.a)(Object(Z.a)({},o()),{},{className:"w-full",children:[Object(g.jsx)("thead",{children:c.map((function(e){return Object(g.jsx)("tr",Object(Z.a)(Object(Z.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(g.jsx)("th",Object(Z.a)(Object(Z.a)({},e.getHeaderProps()),{},{className:"bg-gray-300 m-0 py-2 pl-2",children:e.render("Header")}))}))}))}))}),Object(g.jsx)("tbody",Object(Z.a)(Object(Z.a)({},r()),{},{children:u.map((function(e,t){return d(e),Object(g.jsx)("tr",Object(Z.a)(Object(Z.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(g.jsx)("td",Object(Z.a)(Object(Z.a)({},e.getCellProps()),{},{className:"pl-2 border border-bottom-1",children:e.render("Cell")}))}))}))}))}))]})),Object(g.jsxs)("div",{className:"p-2",children:[Object(g.jsx)("button",{className:"p-1 bg-gray-100 border border-black w-12",onClick:function(){return y(0)},disabled:!m,children:"<<"})," ",Object(g.jsx)("button",{className:"p-1 bg-gray-100 border border-black w-12",onClick:function(){return j()},disabled:!m,children:"<"})," ",Object(g.jsx)("button",{className:"p-1 bg-gray-100 border border-black w-12",onClick:function(){return f()},disabled:!b,children:">"})," ",Object(g.jsx)("button",{className:"p-1 bg-gray-100 border border-black w-12",onClick:function(){return y(x-1)},disabled:!b,children:">>"})," ",Object(g.jsxs)("span",{children:["Page"," ",Object(g.jsxs)("strong",{children:[O+1," of ",p.length]})," "]}),Object(g.jsxs)("span",{children:["| Go to page:"," ",Object(g.jsx)("input",{type:"number",defaultValue:O+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;y(t)},style:{width:"100px"}})]})," "]})]})},Qe=function(e){var t=e.session,i=e.setSession,s=e.login,l=e.setLogin,n={"usps-deliverable":{icon:Be.a,activeText:"Deliverable addresses only",inactiveText:"All addresses, even undeliverable",default:!0,filterFunction:function(e){return"Deliverable"===e.attributes.usps_status||"Deliverable"===e.attributes.USPS_Status}}},r=Object(a.useState)(null),c=Object(o.a)(r,2),d=c[0],u=c[1],p=Object(a.useState)(!1),y=Object(o.a)(p,2),f=y[0],h=y[1],O=["https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/MailerLayers/FeatureServer/0","https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/MailerLayers/FeatureServer/1"],v=Object(a.useState)("centroid"),z=Object(o.a)(v,2),S=z[0],R=z[1],k={};Object.keys(n).forEach((function(e){k[e]=n[e].default}));var F=Object(a.useState)(k),A=Object(o.a)(F,2),C=A[0],B=A[1],L=Object(a.useState)(null),E=Object(o.a)(L,2),P=E[0],T=E[1],V=Object(a.useState)([]),D=Object(o.a)(V,2),W=D[0],I=D[1],H=Object(a.useState)([]),q=Object(o.a)(H,2),G=q[0],J=q[1],Q=Object(a.useState)("simple_select"),$=Object(o.a)(Q,2),K=$[0],X=$[1],ee=Object(a.useState)(null),ie=Object(o.a)(ee,2),ae=ie[0],se=ie[1],le=Object(a.useState)(null),ne=Object(o.a)(le,2),oe=ne[0],re=ne[1];Object(a.useEffect)((function(){t||h(!1),Object(Ce.a)({url:O[0],authentication:t}).then((function(e){h(e)})).catch((function(e){h(!1)}))}),[t]),Object(a.useEffect)((function(){T(null),I([]),J([]),d&&f&&Object(te.a)({url:"parcel"===S?O[0]:O[1],returnIdsOnly:!0,orderByFields:"objectid",geometry:Object(M.b)(d)[0].geometry,geometryType:"esriGeometryPolygon",spatialRel:"esriSpatialRelIntersects",inSR:4326,outSR:4326,httpMethod:"POST",returnCentroid:"parcel"===S,authentication:t}).then((function(e){T(e)}))}),[d,f,t,S]),Object(a.useEffect)((function(){P&&P.objectIds.length>0&&function(){var e=[],i=P.objectIds.filter((function(e,t){return 0===t||t%500===0}));i.push(P.objectIds.slice(-1)[0]+1);var a=i.slice(1).map((function(e,a){return{url:"parcel"===S?O[0]:O[1],orderByFields:"objectid",where:"objectid between ".concat(0===a?i[0]-1:i[a]," and ").concat(e-1),geometry:Object(M.b)(d)[0].geometry,geometryType:"esriGeometryPolygon",spatialRel:"esriSpatialRelIntersects",httpMethod:"POST",returnCentroid:"parcel"===S,inSR:4326,outSR:4326,resultRecordCount:500,authentication:t}}));Y.Promise.map(a,(function(e){return Object(te.a)(e)}),{concurrency:2}).each((function(t){e=e.concat(t.features)})).then((function(){return I(e)}))}()}),[P]),Object(a.useEffect)((function(){var e=W;Object.keys(C).forEach((function(t){C[t]&&(e=e.filter(n[t].filterFunction))})),J(e);var t=e.map((function(e,t){return e.attributes}));se(t);var i=e.map((function(e){var t="parcel"===S?"centroid":"geometry";return{type:"Feature",properties:Object(Z.a)({},e.attributes),geometry:{type:"Point",coordinates:[parseFloat(e[t].x.toFixed(6)),parseFloat(e[t].y.toFixed(6))]}}}));re({type:"FeatureCollection",features:i})}),[C,W]);var ce=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{className:"py-2",children:"This tool is for creating a mailing list, based on a selection area."}),Object(g.jsx)("p",{className:"pt-2",children:"You can start by creating a selection area:"}),Object(g.jsxs)("ul",{className:"list-disc list-outside ml-4 pb-2",children:[Object(g.jsx)("li",{children:"Search for an address"}),Object(g.jsx)("li",{children:"Draw a line, point, or polygon"}),Object(g.jsx)("li",{children:"Choose from common city boundaries"})]}),Object(g.jsx)("p",{className:"py-2",children:"Once the selection area is defined, the addresses within will appear on the map."}),Object(g.jsx)("p",{className:"py-2",children:"Select filters on those addresses, such as deliverability status."}),Object(g.jsx)("p",{className:"py-2",children:"Finally, you can export those addresses into a .csv file or a GeoJSON."})]});return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_,{session:t,setSession:i,login:s,setLogin:l,currentApp:"mailer"}),Object(g.jsxs)(N,{app:x.mailer,introduction:ce,children:[Object(g.jsx)("h3",{className:"mb-2 text-base",children:"Data selection method"}),Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)(Le,{title:"Intersecting address points",active:"centroid"===S,onClick:function(){return R("centroid")&&T(null)&&I([])&&J([])}}),Object(g.jsx)(Le,{title:"Intersecting parcels",active:"parcel"===S,onClick:function(){return R("parcel")&&T(null)&&I([])&&J([])}})]}),Object(g.jsxs)("p",{className:"text-sm leading-5 my-2",children:["The default data selection method for this tool is to pull"," ",Object(g.jsx)("b",{children:"intersecting address points"})," inside the mailing area. This method is fastest and best to use with mailings to pre-defined areas."]}),Object(g.jsxs)("p",{className:"text-sm leading-5 my-2",children:["Alternately, you can choose to pull address points which belong to the"," ",Object(g.jsx)("b",{children:"intersecting parcels"}),' inside the mailing area. Use this if your mailing area is for "parcels within X feet" of some location.']})]}),Object(g.jsxs)(w,{title:"Mailer",children:[!f&&Object(g.jsxs)("section",{className:"sidebar-section caution flex items-center",children:[Object(g.jsx)(m.a,{icon:b.x,className:"text-xl ml-2 mr-4"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:"You don't currently have access to this tool, so it may not work correctly."}),Object(g.jsxs)("p",{children:["Please log in, or if you are logged in,"," ",Object(g.jsx)("a",{href:"https://app.smartsheet.com/b/form/6919c51a844448e2a6811f04a6267292",children:"contact the team"})," ","for access."]})]})]}),!d&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("section",{className:"sidebar-section",children:[Object(g.jsx)("h2",{children:"Draw your own shape"}),Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)(j,{text:"Draw a polygon",icon:b.n,onClick:function(){return X("draw_polygon")},small:!0,className:"mr-2"}),Object(g.jsx)(j,{text:"Draw a line",icon:b.F,onClick:function(){return X("draw_line_string")},small:!0,className:"mr-2"}),Object(g.jsx)(j,{text:"Create a point",icon:b.z,onClick:function(){return X("draw_point")},small:!0})]})]}),Object(g.jsx)(Ee,{geom:d,setGeom:u}),Object(g.jsx)(We,{geom:d,setGeom:u})]}),d&&Object(g.jsx)(Te,{geom:d,setGeom:u}),d&&P&&Object(g.jsx)(Ye,{geom:d,setGeom:u,resultIds:P}),d&&f&&Object(g.jsxs)("section",{className:"sidebar-section",children:[!P&&d&&"Polygon"===d.features[0].geometry.type&&Object(g.jsx)("h1",{children:"Loading..."}),!P&&d&&("Point"===d.features[0].geometry.type||"LineString"===d.features[0].geometry.type)&&Object(g.jsx)("h1",{children:"Apply a buffer to this geometry to generate a mailing list area."}),P&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{children:"Address filtering options"}),Object(g.jsx)("h3",{className:"text-sm text-gray-500",children:P&&0===W.length?"Loading all addresses...":"Fetched ".concat(W.length.toLocaleString()," total addresses")}),Object.keys(C).map((function(e){return Object(g.jsxs)("div",{className:"flex my-4",children:[Object(g.jsx)(Le,{title:n[e].activeText,active:C[e],onClick:function(){var t=U.a.cloneDeep(C);t[e]=!C[e],B(t)}}),Object(g.jsx)(Le,{title:n[e].inactiveText,active:!C[e],onClick:function(){var t=U.a.cloneDeep(C);t[e]=!C[e],B(t)}})]},e)})),Object(g.jsxs)("h2",{children:["Downloading ",G.length.toLocaleString()," addresses"]}),Object(g.jsxs)("div",{className:"flex flex-row",children:[Object(g.jsx)(ve.CSVLink,{data:ae,filename:"mailing_list_".concat((new Date).getTime(),".csv"),className:"mr-2",children:Object(g.jsx)(j,{icon:b.m,text:"Download .csv with ".concat(G.length.toLocaleString()," rows"),small:!0})}),Object(g.jsx)("a",{href:"https://detroitmi.maps.arcgis.com/sharing/rest/content/items/da107e7b0d0e48c3b210db20fa3c30e7/data",children:Object(g.jsx)(j,{icon:b.v,text:"Output data dictionary",small:!0})})]})]})]})]}),Object(g.jsxs)("main",{children:[Object(g.jsx)(qe,{geom:d,setGeom:u,filtered:G,mode:K,setMode:X,features:oe}),G.length>0&&Object(g.jsx)(Ze,{filtered:G})]})]})},$e=function(e){var t=e.type,i=e.id,a=de({type:t,id:i,f:"geojson"});if(a){var s=k[t];return Object(g.jsxs)("section",{className:"sidebar-section",children:[Object(g.jsxs)("h3",{className:"flex items-center justify-between",children:[s.label,Object(g.jsx)(A,{layer:s,id:i,link:!1})]}),Object(g.jsx)("pre",{className:"text-xs h-24 overflow-y-auto px-4 bg-white",children:JSON.stringify(a.properties,null,2)})]})}return Object(g.jsx)("div",{children:"Loading..."})},Ke=function(e){var t=e.center,i=e.feature,s=e.links,l=e.setLinks,n=Object(a.useState)(null),r=Object(o.a)(n,2),c=r[0],d=r[1],u=Object(a.useState)(null),m=Object(o.a)(u,2),b=m[0],p=m[1],x=Object(a.useState)(null),y=Object(o.a)(x,2),f=y[0],j=y[1],h=Object(a.useState)(null),O=Object(o.a)(h,2),v=O[0],_=O[1];return Object(a.useEffect)((function(){var e=new D.a.Map({container:"map",style:H,center:t,zoom:18});e.resize(),e.on("load",(function(){d(e),e.setFilter(k.buildings.highlight,["==","bldg_id",i.properties.bldg_id]),e.setFilter(k.parcels.highlight,["==","parcel_id",i.properties.parcel_id]),e.setFilter(k.addresses.highlight,["==","$id",i.properties.addr_id]),e.setFilter(k.streets.highlight,["==","street_id",i.properties.street_id])})),e.on("click",(function(t){var i=e.queryRenderedFeatures(t.point,{layers:[k.buildings.interaction,k.parcels.interaction,k.streets.interaction]});if(i.length>0){var a=i[0];"buildings"===a.sourceLayer&&j(a.properties.bldg_id),"parcels"===a.sourceLayer&&p(a.properties.parcel_id),"streets"===a.sourceLayer&&_(a.properties.street_id)}}))}),[]),Object(a.useEffect)((function(){b&&c&&(s.parcel_id=b,c.setFilter(k.parcels.highlight,["==","parcel_id",b])),f&&c&&(c.setFilter(k.buildings.highlight,["==","bldg_id",f]),s.bldg_id=f),v&&c&&(s.street_id=v,c.setFilter(k.streets.highlight,["==","street_id",v])),l(Object(Z.a)({},s))}),[b,f,v]),Object(a.useEffect)((function(){c&&(c.setFilter(k.buildings.highlight,["==",k.buildings.id_column,i.properties.bldg_id]),c.setFilter(k.parcels.highlight,["==","parcel_id",i.properties.parcel_id]),c.setFilter(k.addresses.highlight,["==","$id",i.properties.addr_id]),c.setFilter(k.streets.highlight,["==","street_id",i.properties.street_id]),c.setCenter(i.geometry.coordinates))}),[i]),Object(g.jsx)("div",{id:"map",className:"linker-map"})},Xe=function(e){var t=e.session,i=e.feature,s=e.links,l=Object(a.useState)(""),n=Object(o.a)(l,2),c=n[0],d=n[1],u=Object(a.useState)(!1),m=Object(o.a)(u,2),p=(m[0],m[1]),x=Object(a.useState)(null),y=Object(o.a)(x,2),f=y[0],h=y[1];return Object(g.jsxs)("section",{className:"sidebar-section",children:[Object(g.jsxs)("div",{className:"flex items-center justify-between",children:[Object(g.jsx)("h2",{children:"Notes"}),c.length>200&&Object(g.jsxs)("span",{className:"text-sm text-gray-600",children:[255-c.length," chars remaining"]})]}),Object(g.jsx)("textarea",{type:"text",cols:"35",rows:"8",maxLength:"255",className:"p-2 m-1",value:c,onChange:function(e){d(e.target.value),p(!1)}}),Object(g.jsx)(j,{text:"Submit",icon:b.K,onClick:function(){!function(e){var t=e.session,i=e.formText,a=e.x,s=e.y,l=e.targetId,n=e.setAddResponse,o=e.links;Object(ge.a)({url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/address_issues/FeatureServer/0",features:[{geometry:{x:a,y:s,spatialReference:{wkid:4326}},attributes:{target_unit:"address",issue_type:"update_link",target_id:l?l.toString():null,id_parcel:o.parcel_id,id_building:o.bldg_id,id_street:o.street_id,notes:i}}],authentication:t||null}).then((function(e){return n(e)}))}({session:t,formText:c,x:i.geometry.coordinates[0],y:i.geometry.coordinates[1],targetId:i.properties.addr_id,setAddResponse:h,links:s}),p(!0)}}),f&&f.addResults[0].success&&Object(g.jsxs)("section",{className:"sidebar-section",children:["Thanks for your input! ",Object(g.jsx)(r.Link,{to:"/explorer?type=addresses&id=".concat(i.properties.addr_id),children:"Jump back to the explorer"})]})]})},et=function(e){var t=e.setSearchValue,i=e.type,s=Object(a.useState)(""),l=Object(o.a)(s,2),n=l[0],r=l[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{className:"text-base flex items-center justify-between",children:["Search for an address:",i&&"none"===i&&Object(g.jsx)("div",{className:"flex items-end justify-start text-xs font-semibold bg-red-400 text-gray-700 px-4 py-1",children:"No results found!"})]}),Object(g.jsxs)("div",{className:"flex items-center justify-start text-sm mt-1 w-4/5",children:[Object(g.jsx)("input",{className:"p-2 w-full bg-",type:"text",value:n,onChange:function(e){return r(e.target.value)},onKeyPress:function(e){return"Enter"===e.code&&t(n)}}),Object(g.jsx)(j,{active:""!==n,disabled:""===n,small:!0,className:"py-2",onClick:function(){return t(n)},text:"Search",icon:b.C})]})]})},tt=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{className:"flex items-center justify-between caution px-4",children:[Object(g.jsx)(m.a,{icon:b.q})," This tool is still under construction!"]}),Object(g.jsx)("p",{children:"Use this tool to edit an address's links to the other base units."})]}),it=function(e){var t=e.session,i=e.setSession,s=e.login,l=e.setLogin,n=ue(),r=n.get("type"),c=n.get("id"),d=Object(a.useState)(null),u=Object(o.a)(d,2),m=u[0],b=u[1],p=oe(m),y=Object(o.a)(p,2),f=y[0],j=y[1],h=c;f&&(h=f.features[0].properties.address_id);var O=de({type:r||"addresses",id:h,f:"geojson"}),v=Object(a.useState)({fetched:!1,bldg_id:null,parcel_id:null,street_id:null}),z=Object(o.a)(v,2),S=z[0],R=z[1];return Object(a.useEffect)((function(){O&&R({fetched:!0,bldg_id:O.properties.bldg_id,parcel_id:O.properties.parcel_id,street_id:O.properties.street_id})}),[O]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_,{session:t,setSession:i,login:s,setLogin:l,currentApp:"linker"}),Object(g.jsx)(N,{app:x.linker,introduction:tt,children:Object(g.jsx)(et,{setSearchValue:b,type:j})}),Object(g.jsxs)(w,{title:"Linker",children:[O&&Object(g.jsxs)("section",{className:"sidebar-section",children:[Object(g.jsxs)("h2",{children:["Creating links to feature ... ",r,": ",c]}),Object(g.jsx)("pre",{className:"text-xs",children:JSON.stringify(O.properties,null,2)})]}),O&&S.bldg_id&&Object(g.jsx)($e,{type:"buildings",id:S.bldg_id}),O&&S.parcel_id&&Object(g.jsx)($e,{type:"parcels",id:S.parcel_id}),O&&S.street_id>0&&Object(g.jsx)($e,{type:"streets",id:S.street_id}),O&&Object(g.jsx)(Xe,{session:t,feature:O,links:S})]}),Object(g.jsx)("main",{children:O&&O.geometry&&S.fetched&&Object(g.jsx)(Ke,{center:O.geometry.coordinates,feature:O,links:S,setLinks:R})})]})},at=(i(114),function(e){var t,i=e.mode,s=e.geocodeResult,l=e.setBuilding,n=e.setParcel,r=e.setStreet,c=e.lngLat,d=e.setLngLat,u=e.selectableLayers,m=e.building,b=e.parcel,p=e.street,x=e.addresses,y=e.setCenter,f=e.basemap;s&&(t=s.features[0]);var j=Object(a.useState)(null),h=Object(o.a)(j,2),O=h[0],v=h[1],_=Object(a.useState)(!1),w=Object(o.a)(_,2),z=(w[0],w[1]);return Object(a.useEffect)((function(){var e=new D.a.Map({container:"map",style:"default"===f?H:q(),center:[-83.1,42.35],zoom:17});e.addControl(new V.NavigationControl),e.on("load",(function(){v(e),y(e.getCenter()),e.getSource("result").setData(s),e.setLayoutProperty("address-point","visibility","visible"),e.setLayoutProperty("address-point-label","visibility","visible")})),e.on("click",(function(t){d(t.lngLat);var i=e.queryRenderedFeatures(t.point,{layers:[k.buildings.interaction,k.streets.interaction,k.parcels.interaction,k.addresses.interaction]});if(i.length>0){var a=i[0];"parcels"===a.sourceLayer&&n(a.properties[k.parcels.click]),"buildings"===a.sourceLayer&&l(a.properties[k.buildings.click]),"streets"===a.sourceLayer&&r(a.properties[k.streets.click]),a.sourceLayer}})),e.on("moveend",(function(t){y(e.getCenter())})),e.on("styledata",(function(t){e.setLayoutProperty("address-point","visibility","visible"),e.setLayoutProperty("address-point-label","visibility","visible")}))}),[]),Object(a.useEffect)((function(){O&&s&&t&&(O.flyTo({center:t.geometry.coordinates,zoom:17}),O.getSource("result").setData(s))}),[s]),Object(a.useEffect)((function(){O&&"New utility address"==i.name&&null!==c.lng&&O.getSource("new-point").setData({type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[c.lng,c.lat]}}]})}),[c]),Object(a.useEffect)((function(){if(O){var e={buildings:m,streets:p,parcels:b};Object.keys(e).forEach((function(t){u.indexOf(k[t].interaction)>-1?O.setFilter(k[t].highlight,["==",k[t].id_column,e[t]]):O.setFilter(k[t].highlight,["==",k[t].id_column,""])}))}}),[m,b,p,i,u,f]),Object(a.useEffect)((function(){O&&O.setFilter(k.addresses.highlight,["in",k.addresses.id_column].concat(x.map((function(e){return e.addr_id}))))}),[x]),Object(a.useEffect)((function(){O&&("satellite"===f&&(O.setStyle(q()),z(!0)),"linen-map"===f&&(O.setStyle(G()),z(!0)),"default"===f&&(O.setStyle(H),z(!0)))}),[f]),Object(g.jsx)("div",{id:"map",className:"assignment-map"})}),st=function(e){var t=e.setSearchValue,i=e.type,s=Object(a.useState)(""),l=Object(o.a)(s,2),n=l[0],r=l[1];return Object(g.jsxs)("div",{className:"w-2/3 ml-2",children:[i&&"none"===i&&Object(g.jsx)("div",{className:"flex items-end justify-start text-xs font-semibold bg-red-400 text-gray-700 px-4 py-1",children:"No results found!"}),Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)(j,{active:""!==n,disabled:""===n,small:!0,className:"py-2",onClick:function(){return t(n)},text:"Search",icon:b.C}),Object(g.jsx)("input",{className:"p-2 w-full bg-",type:"text",placeholder:'Enter an address to center the map there, e.g. "2 Woodward"',value:n,onChange:function(e){return r(e.target.value)},onKeyPress:function(e){return"Enter"===e.code&&t(n)}})]})]})},lt=function(e){var t=e.center,i=e.session,s=Object(a.useState)(null),l=Object(o.a)(s,2),n=l[0],r=l[1],c={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[t.lng,t.lat]}};return Object(a.useEffect)((function(){Object(te.a)({url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/Address_Map_Index/FeatureServer/0",geometryType:"esriGeometryPoint",spatialRel:"esriSpatialRelIntersects",geometry:Object(M.b)(c).geometry,authentication:i}).then((function(e){e.features.length>0?r(e.features[0]):r(null)}))}),[t]),Object(g.jsx)(g.Fragment,{children:n&&Object(g.jsxs)("h2",{className:"text-sm py-3 px-3",children:["Link to current address map index page: ",Object(g.jsx)("a",{href:n.attributes.Link,children:n.attributes.Index_})]})})},nt=function(e){var t=e.addresses,i=(e.setClicked,e.title,new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}));t=t.sort((function(e,t){return i.compare(t.unit_number,e.unit_number)})).sort((function(e,t){return e.street_number-t.street_number>-1})).sort((function(e,t){return i.compare(t.street_name,e.street_name)}));var s=Object(a.useState)(!1),l=Object(o.a)(s,2),n=l[0],r=l[1];return Object(g.jsxs)("section",{className:"text-xs py-2 px-2 bg-gray-200",style:{maxHeight:"50vh",marginBottom:0,borderLeft:"8px solid ".concat(k.addresses.color)},children:[Object(g.jsxs)("div",{className:"flex items-center justify-between",children:[Object(g.jsxs)("h2",{className:"text-sm",children:["with ",t.length," existing address",t.length>1?"es:":":"]}),Object(g.jsx)(m.a,{icon:n?b.h:b.i,onClick:function(){return r(!n)},className:"text-lg text-gray-500 mr-2 mt-1"})]}),Object(g.jsx)(v.a,{duration:250,height:n?"auto":0,children:Object(g.jsx)("div",{className:"overflow-y-auto text-sm pr-3 mt-3",style:{maxHeight:250},children:t.map((function(e,i){return Object(g.jsxs)("div",{className:i+1<t.length?"py-1 flex items-center justify-between border-b-2":"py-1 flex items-center justify-between",children:[Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsxs)("span",{className:"tabular-nums text-xs",children:[e.street_number," ",e.street_prefix," ",e.street_name," ",e.street_type," ",e.unit_type," ",e.unit_number]}),Object(g.jsx)(E,{layer:e.geo_source})]}),Object(g.jsx)(A,{id:e.addr_id,layer:k.addresses,link:!1})]},e.addr_id)}))})})]})},ot=function(e){var t=e.attr,i=e.attributes,s=e.longAttributes,l=void 0===s?{}:s,n=e.clicked,r=void 0===n?null:n,c=e.label,d=void 0===c?null:c,u=e.startOpen,p=void 0!==u&&u,x=k[r.type],y=Object(a.useState)(p),f=Object(o.a)(y,2),j=f[0],h=f[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"bg-gray-200 p-2 text-xs font-bold flex items-center justify-between",style:{borderLeft:"8px solid ".concat(x.color)},children:[Object(g.jsx)("h2",{className:"text-sm",children:d||x.label}),Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)(A,{id:t[x.id_column],layer:x,link:!1}),Object(g.jsx)(m.a,{icon:j?b.h:b.i,onClick:function(){return h(!j)},className:"text-lg text-gray-500 ml-3 mr-2"})]})]}),Object(g.jsx)(v.a,{duration:250,height:j?"auto":0,children:Object(g.jsxs)("section",{className:"pl-2 py-1",style:{borderLeft:"8px solid ".concat(x.color)},children:[Object(g.jsx)("table",{className:"w-full",children:Object(g.jsx)("tbody",{children:Object.keys(i).map((function(e,t){return Object(g.jsxs)("tr",{className:t+1===Object.keys(i).length?"h-10":"border-b-2 border-gray-400 h-10",children:[Object(g.jsx)("td",{className:"w-2/5 font-bold text-sm",children:e}),Object(g.jsx)("td",{className:"",children:i[e]})]},t)}))})}),Object.keys(l).length>0&&Object.keys(l).map((function(e,t){return Object(g.jsxs)("div",{style:{paddingLeft:2},children:[Object(g.jsx)("h3",{className:0===t?"border-t-2 border-gray-400 text-sm py-2":"text-sm py-2",children:e}),Object(g.jsxs)("p",{className:"px-2 text-sm leading-tight",children:[" ",l[e]]})]},t)}))]})})]})},rt=function(e){var t,i=e.building,s=e.setStreet,l=e.setModelAddress,n=(e.setSelectableLayers,de({type:"buildings",id:i,f:"geojson"})),r=Object(a.useState)([]),c=Object(o.a)(r,2),d=c[0],u=c[1];Object(a.useEffect)((function(){var e=k.addresses.endpoint+"/query?",t={where:"bldg_id = ".concat(i),outFields:"*",outSR:4326,f:"pjson"},a=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&");fetch(e+a).then((function(e){return e.json()})).then((function(e){Object.keys(e).indexOf("features")>-1&&(e.features.length>0?(u(e.features.map((function(e){return e.attributes}))),l(e.features[0]),s(e.features[0].attributes.street_id)):u([]))}))}),[i]);var m={type:"buildings",id:i};return n&&(t={"Use type":n.properties.use_category,"Building type":n.properties.ted_build_type}),Object(g.jsxs)(g.Fragment,{children:[n&&Object(g.jsx)(ot,{label:"Selected building",attr:n.properties,attributes:t,clicked:m}),d.length>0&&Object(g.jsx)(nt,{addresses:d,title:"primary"})]})},ct=function(e){var t=e.parcel,i=e.setAddresses,s=e.setModelAddress,l=e.setStreet,n=e.setBuilding,r={},c=Object(a.useState)(null),d=Object(o.a)(c,2),u=d[0],m=d[1],b={},p={type:"parcels",id:t},x=Object(a.useState)(!1),y=Object(o.a)(x,2);y[0],y[1];return Object(a.useEffect)((function(){Object(te.a)({url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Parcels_2021/FeatureServer/0",where:"parcel_number = '".concat(t,"'"),returnGeometry:!1,outFields:["*"]}).then((function(e){if(e.features.length>0){var t=e.features[0];m(t.attributes)}}))}),[t]),Object(a.useEffect)((function(){if(i){var e=k.addresses.endpoint+"/query?",a={where:"parcel_id = '".concat(t,"'"),outFields:"*",outSR:4326,f:"pjson"},o=Object.keys(a).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(a[e])})).join("&");fetch(e+o).then((function(e){return e.json()})).then((function(e){Object.keys(e).indexOf("features")>-1&&(e.features.length>0?(i(e.features.map((function(e){return e.attributes}))),s(e.features[0]),l(e.features[0].attributes.street_id),n&&null===e.features[0].attributes.bldg_id?n(""):n&&n(e.features[0].attributes.bldg_id)):i([]))}))}}),[t]),u&&(u.parcel_id=u.parcel_number,b["Legal description"]=u.legal_description,r["Parcel address"]=u.address,r.Taxpayer=u.taxpayer_1,r["Taxpayer Address"]="".concat(u.taxpayer_street,", ").concat(u.taxpayer_city,", ").concat(u.taxpayer_state),r["Depth x Frontage (ft)"]="".concat(u.depth," x ").concat(u.frontage)),u&&Object(g.jsx)(ot,{label:"Underlying parcel",startOpen:!0,attr:u,attributes:r,longAttributes:b,clicked:p})},dt=function(e){var t=e.title,i=void 0===t?"Title":t,a=e.width,s=void 0===a?"auto":a,l=e.children;return Object(g.jsxs)("div",{className:"flex flex-col w-".concat(s),children:[Object(g.jsx)("div",{className:"flex items-center justify-between py-1 px-2 bg-blue-100",children:Object(g.jsx)("span",{className:"text-xs font-semibold text-gray-500",children:i})}),l]})},ut=function(e){var t=e.title,i=void 0===t?"Title":t,a=e.value,s=void 0===a?"Value":a,l=e.width,n=void 0===l?"auto":l,o=e.readOnly,r=void 0!==o&&o,c=e.disabled,d=void 0!==c&&c,u=e.mono,m=void 0!==u&&u,b=e.onChange,p=void 0===b?null:b;return Object(g.jsx)(dt,{title:i,width:n,children:Object(g.jsx)("input",{type:"text",className:"py-1 px-2 text-sm font-".concat(m?"mono":"regular"),value:s,readOnly:r,disabled:d,onChange:p})})},mt=function(e){var t=e.children;return Object(g.jsx)("div",{className:"flex justify-start my-3 gap-2",children:t})},bt=function(e){var t=e.title,i=e.subtitle,a=e.icon;e.children;return Object(g.jsxs)("div",{className:"flex justify-start items-center mb-2 mt-4",children:[Object(g.jsx)(m.a,{icon:a,className:"mr-3 text-xl"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{className:"text-base font-semibold text-gray-700",children:t}),Object(g.jsx)("h3",{className:"text-sm font-normal text-gray-700",children:i})]})]})},pt=function(e){var t=e.modelAddress,i=e.building,s=e.street,l=e.parcel,n=e.setParcel,r=e.session,c=Object(a.useState)(t.attributes.street_number),d=Object(o.a)(c,2),u=d[0],m=d[1],p=de({type:"streets",id:s}),x=de({type:"buildings",id:i}),y=p?p.attributes:{},f=[y.street_prefix,y.street_name,y.street_type].join(" ").trim(),h=["","Apt","Ste","Upper","Lower"],O=Object(a.useState)(h[0]),v=Object(o.a)(O,2),_=v[0],w=v[1],z=Object(a.useState)(""),S=Object(o.a)(z,2),N=S[0],R=S[1],k=N.split("\n").filter((function(e){return""!==e})),F=Object(a.useState)([]),A=Object(o.a)(F,2),C=(A[0],A[1],Object(a.useState)("")),B=Object(o.a)(C,2),L=B[0],E=B[1],P=Object(a.useState)(""),T=Object(o.a)(P,2),V=T[0],D=T[1],M=Object(a.useState)(!1),W=Object(o.a)(M,2),I=W[0],U=W[1],H=[],q=null;return k.length>0&&(H=k.map((function(e){return{street_number:u,street_id:s,building_id:i,parcel_id:l,unit_type:_,unit_number:e,certificate_number:V,full_address:"".concat(u," ").concat(f," ").concat(_," ").concat(e).trim(),notes:L}})),q="".concat(H.length," new unit")),"Upper"!==_&&"Lower"!==_||(H=[{street_number:u,street_id:s,building_id:i,parcel_id:l,unit_type:_,unit_number:null,certificate_number:V,full_address:"".concat(u," ").concat(f," ").concat(_).trim(),notes:L}],q="".concat(H.length," new unit")),0===k.length&&u!=t.attributes.street_number&&(H=[{street_number:u,street_id:s,building_id:i,parcel_id:l,unit_type:null,unit_number:null,certificate_number:V,full_address:"".concat(u," ").concat(f).trim(),notes:L}],q="1 new primary"),Object(a.useEffect)((function(){m(t.attributes.street_number),n(t.attributes.parcel_id),w(""),R("")}),[t]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{className:"bg-gray-300 p-2 mt-2 text-base",children:"Creating new addresses:"}),Object(g.jsxs)("section",{className:"sidebar-section border-b-2",children:[Object(g.jsx)(dt,{title:"DPW House Number Certificate",width:"3/5",children:Object(g.jsx)("input",{type:"text",className:"px-3 py-2",value:V,onChange:function(e){return D(e.target.value)}})}),Object(g.jsx)(bt,{title:"Links to other base units",subtitle:"Adjust these by clicking the map",icon:b.w}),Object(g.jsxs)(mt,{children:[Object(g.jsx)(ut,{title:"Building ID",value:i,readOnly:!0,disabled:!0}),Object(g.jsx)(ut,{title:"Street ID",value:s,readOnly:!0,disabled:!0}),Object(g.jsx)(ut,{title:"Parcel ID",value:l||t.attributes.parcel_id,readOnly:!0,disabled:!0})]}),Object(g.jsx)(bt,{title:"Addresses to create here",icon:b.a}),Object(g.jsxs)(mt,{children:[Object(g.jsx)(ut,{title:"House number",value:u,onChange:function(e){return m(e.target.value)}}),Object(g.jsx)(ut,{title:"Street name",value:f,disabled:!0,width:"2/3"})]}),Object(g.jsxs)(mt,{children:[Object(g.jsx)(dt,{title:"Unit type",width:"1/3",children:Object(g.jsx)("select",{type:"text",className:"p-2 text-sm",value:_,onChange:function(e){return w(e.target.value)},children:h.map((function(e){return Object(g.jsx)("option",{value:e,children:e},e)}))})}),Object(g.jsx)(dt,{title:"Unit number: enter one per line",width:"2/3",children:Object(g.jsx)("textarea",{className:"py-2 px-3 text-xs",value:N,rows:6,type:"text",onChange:function(e){return R(e.target.value)}})})]}),Object(g.jsx)(mt,{children:Object(g.jsx)(dt,{title:"Additional notes:",width:"full",children:Object(g.jsx)("textarea",{className:"px-3 py-2 text-sm",value:L,rows:2,type:"text",onChange:function(e){return E(e.target.value)}})})}),Object(g.jsxs)("div",{className:"flex items-center justify-around",children:[H.length>0&&!I&&Object(g.jsxs)(j,{className:"w-2/3 mx-4 justify-around my-5 p-4",icon:b.A,onClick:function(){return function(e,t,i,a){var s={addresses:e,list_of_addresses:e.map((function(e){return e.full_address})).join("\n"),certificate_number:e.certificate_number,creator:t.username};fetch("https://hook.integromat.com/fgu9lrjc6ps43fdk8s7tdat9ylv20uqg",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(s)}).then((function(e){return console.log(e)}));var l=e.map((function(e){return e.scenario="NewBuildingAddress",{geometry:a,attributes:e}}));Object(ge.a)({url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/address_assignments/FeatureServer/0",features:l,authentication:t}).then((function(e){return i(e)}))}(H,r,U,x.geometry)},children:["Submit ",q," address(es)"]}),I&&Object(g.jsx)(j,{onClick:function(){U(!1),m(""),w(h[0]),R(""),E("")},icon:b.g,children:"Success! Click to reset form."})]})]})]})},xt=function(e){var t=e.building,i=(e.setBuilding,e.street),s=e.setStreet,l=e.parcel,n=e.setParcel,r=e.setSelectableLayers,c=e.session,d=(e.setSubmitted,Object(a.useState)(null)),u=Object(o.a)(d,2),m=u[0],b=u[1],p=Object(a.useState)(!1),x=Object(o.a)(p,2);x[0],x[1];return Object(a.useEffect)((function(){""!=t&&r([k.buildings.interaction,k.streets.interaction,k.parcels.interaction]),""==t&&r([k.buildings.interaction])}),[t]),Object(g.jsxs)(g.Fragment,{children:[!t&&Object(g.jsx)("section",{className:"sidebar-section",children:Object(g.jsxs)("h2",{children:[Object(g.jsx)("b",{children:"Click the building"})," the new address belongs to."]})}),t&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(rt,{building:t,setModelAddress:b,setStreet:s}),m&&m.attributes.parcel_id&&Object(g.jsx)(ct,{parcel:m.attributes.parcel_id}),m&&Object(g.jsx)(pt,{modelAddress:m,building:t,street:i,parcel:l,setParcel:n,session:c})]})]})},yt=function(e){var t=e.street,i=e.addresses,s=e.setAddresses,l=de({type:"streets",id:t,f:"geojson"});Object(a.useEffect)((function(){var e=k.addresses.endpoint+"/query?",i={where:"street_id = ".concat(t," AND unit_type is null AND unit_number is null"),outFields:"*",outSR:4326,f:"pjson"},a=Object.keys(i).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(i[e])})).join("&");fetch(e+a).then((function(e){return e.json()})).then((function(e){Object.keys(e).indexOf("features")>-1&&(e.features.length>0?s(e.features.map((function(e){return e.attributes}))):s([]))}))}),[t]);var n={type:"streets",id:t},o=(l||{}).properties,r={};return l&&(r={"Street direction":o.street_prefix,"Street name":o.street_name,"Street type":o.street_type,"MGF - Left range":"".concat(o.fraddl,"-").concat(o.toaddl),"MGF - Right range":"".concat(o.fraddr,"-").concat(o.toaddr),"Length of segment":o.segment_length?"".concat(o.segment_length.toFixed(0)," ft"):"?"}),Object(g.jsxs)(g.Fragment,{children:[l&&Object(g.jsx)(ot,{startOpen:!0,attr:l.properties,attributes:r,clicked:n}),i.length>0&&Object(g.jsx)(nt,{addresses:i,title:"primary"})]})},ft=function(e){var t=e.street,i=e.lngLat,s=e.session,l=Object(a.useState)(""),n=Object(o.a)(l,2),r=n[0],c=n[1],d=de({type:"streets",id:t}),u=d?d.attributes:{},m=[u.street_prefix,u.street_name,u.street_type].join(" ").trim(),p=Object(a.useState)(""),x=Object(o.a)(p,2),y=x[0],f=x[1],h=Object(a.useState)(""),O=Object(o.a)(h,2),v=O[0],_=O[1],w=Object(a.useState)(!1),z=Object(o.a)(w,2),S=z[0],N=z[1],R=[{street_number:r,street_id:t,certificate_number:v,full_address:"".concat(r," ").concat(m).trim(),notes:y}];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{className:"bg-gray-300 p-2 mt-2 text-base",children:"Creating new utility pole address:"}),Object(g.jsxs)("section",{className:"sidebar-section border-b-2",children:[Object(g.jsx)(dt,{title:"DPW House Number Certificate",width:"3/5",children:Object(g.jsx)("input",{type:"text",className:"px-3 py-2",value:v,onChange:function(e){return _(e.target.value)}})}),Object(g.jsx)(bt,{title:"Links to other base units",subtitle:"Adjust these by clicking the map",icon:b.w}),Object(g.jsx)(mt,{children:Object(g.jsx)(ut,{title:"Street ID",value:t,readOnly:!0,disabled:!0})}),Object(g.jsx)(bt,{title:"Addresses to create here",icon:b.a}),Object(g.jsxs)(mt,{children:[Object(g.jsx)(ut,{title:"House number",value:r,onChange:function(e){return c(e.target.value)}}),Object(g.jsx)(ut,{title:"Street name",value:m,disabled:!0,width:"2/3"})]}),Object(g.jsx)(mt,{children:Object(g.jsx)(dt,{title:"Additional notes:",width:"full",children:Object(g.jsx)("textarea",{className:"px-3 py-2 text-sm",value:y,rows:2,type:"text",onChange:function(e){return f(e.target.value)}})})}),""===r&&Object(g.jsx)("h3",{className:"warning p-2 text-sm",children:"You must enter a valid house number."}),Object(g.jsxs)("div",{className:"flex items-center justify-around",children:[!S&&Object(g.jsx)(j,{className:"mx-4 justify-around my-5 p-4",onClick:function(){return function(e,t,i,a){var s={addresses:e,list_of_addresses:e.map((function(e){return e.full_address})).join("\n"),certificate_number:e.certificate_number,creator:i.username};fetch("https://hook.integromat.com/fgu9lrjc6ps43fdk8s7tdat9ylv20uqg",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(s)}).then((function(e){return console.log(e)}));var l=e.map((function(e){return e.scenario="NewUtilityPole",{geometry:{x:t.lng,y:t.lat,spatialReference:{wkid:4326}},attributes:e}}));Object(ge.a)({url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/address_assignments/FeatureServer/0",features:l,authentication:i}).then((function(e){a(e)}))}(R,i,s,N)},icon:b.A,disabled:""===r,children:"Submit address"}),S&&Object(g.jsx)(j,{onClick:function(){N(!1),c("")},icon:b.g,children:"Success! Click to reset form."})]})]})]})},gt=function(e){var t=e.street,i=(e.setStreet,e.session),a=e.addresses,s=e.setAddresses,l=e.lngLat;e.setLngLat;return Object(g.jsxs)(g.Fragment,{children:[!t&&Object(g.jsx)("section",{className:"sidebar-section",children:Object(g.jsx)("h2",{children:"Click a street segment for the new utility address."})}),t&&""!==t&&Object(g.jsx)(yt,{street:t,addresses:a,setAddresses:s}),t&&Object(g.jsx)("section",{className:"sidebar-section",children:Object(g.jsxs)("h2",{className:"p-1 my-1",children:["Adjust the location ",Object(g.jsx)("span",{class:"dot",style:{height:20,width:20,border:"2px solid #ddd",background:"rgba(120,0,0,0.5)",borderRadius:"50%",display:"inline-block",marginBottom:-3,marginLeft:5,marginRight:5}})," of the new utility pole address by clicking the map."]})}),l&&Object(g.jsx)(ft,{street:t,lngLat:l,session:i})]})},jt={default:"Streets",satellite:"Satellite"},ht=function(e){var t=e.options,i=e.setOptions;return e.session&&(jt["linen-map"]="Linen Map"),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"flex",children:Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsxs)("div",{className:"h-9 px-3 font-semibold text-gray-900 text-sm flex items-center bg-blue-300",children:[Object(g.jsx)(m.a,{icon:b.y,className:"mr-2"}),Object(g.jsx)("span",{children:"Basemap"})]}),Object(g.jsx)("select",{className:"h-9 text-base pl-2 w-32",onChange:function(e){return i(Object(Z.a)(Object(Z.a)({},t),{},{basemap:e.target.value}))},children:Object.keys(jt).map((function(e){return Object(g.jsx)("option",{className:"text-base",value:e,children:jt[e]},e)}))})]})})})},Ot=function(e){var t=e.parcel,i=e.street,s=e.lngLat,l=e.session,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],d=r[1],u=de({type:"streets",id:i}),m=u?u.attributes:{},p=[m.street_prefix,m.street_name,m.street_type].join(" ").trim(),x=Object(a.useState)(""),y=Object(o.a)(x,2),f=y[0],h=y[1],O=Object(a.useState)(""),v=Object(o.a)(O,2),_=v[0],w=v[1],z=[{street_number:c,street_id:i,certificate_number:_,full_address:"".concat(c," ").concat(p).trim(),notes:f}];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{className:"bg-gray-300 p-2 mt-2 text-base",children:"Creating new parcel revision address:"}),Object(g.jsxs)("section",{className:"sidebar-section border-b-2",children:[Object(g.jsx)(dt,{title:"DPW House Number Certificate",width:"3/5",children:Object(g.jsx)("input",{type:"text",className:"px-3 py-2",value:_,onChange:function(e){return w(e.target.value)}})}),Object(g.jsx)(bt,{title:"Links to other base units",subtitle:"Adjust these by clicking the map",icon:b.w}),Object(g.jsxs)(mt,{children:[Object(g.jsx)(ut,{title:"Street ID",value:i,readOnly:!0,disabled:!0}),Object(g.jsx)(ut,{title:"Previous Parcel ID",value:t,readOnly:!0,disabled:!0}),Object(g.jsx)(ut,{title:"Temporary Parcel ID",value:t+"_REV",readOnly:!0,disabled:!0})]}),Object(g.jsx)(bt,{title:"New parcel revision address to create",icon:b.a}),Object(g.jsxs)(mt,{children:[Object(g.jsx)(ut,{title:"House number",value:c,onChange:function(e){return d(e.target.value)}}),Object(g.jsx)(ut,{title:"Street name",value:p,disabled:!0,width:"2/3"})]}),Object(g.jsx)(mt,{children:Object(g.jsx)(dt,{title:"Additional notes:",width:"full",children:Object(g.jsx)("textarea",{className:"px-3 py-2 text-sm",value:f,rows:2,type:"text",onChange:function(e){return h(e.target.value)}})})}),""===c&&Object(g.jsx)("h3",{className:"warning p-2 text-sm",children:"You must enter a valid house number."}),Object(g.jsx)("div",{className:"flex items-center justify-around",children:Object(g.jsx)(j,{className:"mx-4 justify-around my-5 p-4",onClick:function(){return function(e,t,i){var a={addresses:e,list_of_addresses:e.map((function(e){return e.full_address})).join("\n"),certificate_number:e.certificate_number,creator:i.username};fetch("https://hook.integromat.com/fgu9lrjc6ps43fdk8s7tdat9ylv20uqg",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(a)}).then((function(e){return console.log(e)}));var s=e.map((function(e){return e.scenario="NewParcelRevisionAddress",{geometry:{x:t.lng,y:t.lat,spatialReference:{wkid:4326}},attributes:e}}));Object(ge.a)({url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/address_assignments/FeatureServer/0",features:s,authentication:i}).then((function(e){return console.log(e)}))}(z,s,l)},icon:b.A,disabled:""===c,children:"Submit address"})})]})]})},vt=function(e){var t=e.street,i=e.setStreet,s=e.parcel,l=(e.setParcel,e.session),n=(e.addresses,e.setAddresses),r=(e.lngLat,e.setSelectableLayers),c=Object(a.useState)(null),d=Object(o.a)(c,2),u=d[0],m=d[1];return Object(a.useEffect)((function(){""!=s&&r([k.buildings.interaction,k.streets.interaction,k.parcels.interaction]),""==s&&r([k.buildings.interaction])}),[s]),Object(g.jsxs)(g.Fragment,{children:[!s&&Object(g.jsx)("section",{className:"sidebar-section",children:Object(g.jsx)("h2",{children:"Select the parcel which will be modified and receive the newly assigned address."})}),s&&Object(g.jsx)(ct,{parcel:s,setAddresses:n,setModelAddress:m,setStreet:i}),s&&Object(g.jsx)(Ot,{street:t,parcel:s,modelAddress:u,session:l})]})},_t=function(e){var t=e.parcel,i=(e.setParcel,e.building),s=e.street,l=e.lngLat,n=e.session,r=Object(a.useState)(""),c=Object(o.a)(r,2),d=c[0],u=c[1],m=de({type:"streets",id:s}),p=m?m.attributes:{},x=[p.street_prefix,p.street_name,p.street_type].join(" ").trim(),y=Object(a.useState)(""),f=Object(o.a)(y,2),h=(f[0],f[1],Object(a.useState)("")),O=Object(o.a)(h,2),v=O[0],_=O[1],w=Object(a.useState)(""),z=Object(o.a)(w,2),S=z[0],N=z[1],R=["","Apt","Ste","Upper","Lower"],k=Object(a.useState)(R[0]),F=Object(o.a)(k,2),A=F[0],C=F[1],B=Object(a.useState)(""),L=Object(o.a)(B,2),E=L[0],P=L[1],T=[{street_number:d,street_id:s,certificate_number:S,unit_type:""!==A?A:null,unit_number:""!==E?E:null,full_address:"".concat(d," ").concat(x).trim(),notes:v}];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{className:"bg-gray-300 p-2 mt-2 text-base",children:"Creating new condominium address:"}),Object(g.jsxs)("section",{className:"sidebar-section border-b-2",children:[Object(g.jsx)(dt,{title:"DPW House Number Certificate",width:"3/5",children:Object(g.jsx)("input",{type:"text",className:"px-3 py-2",value:S,onChange:function(e){return N(e.target.value)}})}),Object(g.jsx)(bt,{title:"Links to other base units",subtitle:"Adjust these by clicking the map",icon:b.w}),Object(g.jsxs)(mt,{children:[Object(g.jsx)(ut,{title:"Building ID",value:i,readOnly:!0,disabled:!0}),Object(g.jsx)(ut,{title:"Street ID",value:s,readOnly:!0,disabled:!0}),Object(g.jsx)(ut,{title:"Parcel ID",value:t,readOnly:!0,disabled:!0})]}),Object(g.jsx)(bt,{title:"New condo address to create",icon:b.a}),Object(g.jsxs)(mt,{children:[Object(g.jsx)(ut,{title:"House number",value:d,onChange:function(e){return u(e.target.value)}}),Object(g.jsx)(ut,{title:"Street name",value:x,disabled:!0,width:"2/3"})]}),Object(g.jsxs)(mt,{children:[Object(g.jsx)(dt,{title:"Unit type",width:"1/3",children:Object(g.jsx)("select",{type:"text",className:"p-2 text-sm",value:A,onChange:function(e){return C(e.target.value)},children:R.map((function(e){return Object(g.jsx)("option",{value:e,children:e},e)}))})}),Object(g.jsx)(ut,{title:"Unit number",width:"2/3",value:E,onChange:function(e){return P(e.target.value)}})]}),Object(g.jsx)(mt,{children:Object(g.jsx)(dt,{title:"Additional notes:",width:"full",children:Object(g.jsx)("textarea",{className:"px-3 py-2 text-sm",value:v,rows:2,type:"text",onChange:function(e){return _(e.target.value)}})})}),""===d&&Object(g.jsx)("h3",{className:"warning p-2 text-sm",children:"You must enter a valid house number."}),Object(g.jsx)("div",{className:"flex items-center justify-around",children:Object(g.jsx)(j,{className:"mx-4 justify-around my-5 p-4",onClick:function(){return function(e,t,i){var a={addresses:e,list_of_addresses:e.map((function(e){return e.full_address})).join("\n"),certificate_number:e.certificate_number,creator:i.username};fetch("https://hook.integromat.com/fgu9lrjc6ps43fdk8s7tdat9ylv20uqg",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(a)}).then((function(e){return console.log(e)}));var s=e.map((function(e){return e.scenario="NewCondoAddress",{geometry:{x:t.lng,y:t.lat,spatialReference:{wkid:4326}},attributes:e}}));Object(ge.a)({url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/address_assignments/FeatureServer/0",features:s,authentication:i}).then((function(e){return console.log(e)}))}(T,l,n)},icon:b.A,disabled:""===d,children:"Submit address"})})]})]})},wt=function(e){var t=e.street,i=e.setStreet,s=e.parcel,l=e.building,n=e.setBuilding,r=e.setParcel,c=e.session,d=(e.addresses,e.setAddresses),u=(e.lngLat,e.setSelectableLayers),m=Object(a.useState)(null),b=Object(o.a)(m,2),p=b[0],x=b[1];return Object(a.useEffect)((function(){""!=s&&u([k.buildings.interaction,k.streets.interaction,k.parcels.interaction]),""==s&&u([k.buildings.interaction])}),[s]),Object(g.jsxs)(g.Fragment,{children:[!s&&Object(g.jsx)("section",{className:"sidebar-section",children:Object(g.jsx)("h2",{children:"Select the parent parcel of the new condo address."})}),s&&Object(g.jsx)(ct,{parcel:s,setAddresses:d,setModelAddress:x,setStreet:i,setBuilding:n}),s&&Object(g.jsx)(_t,{street:t,parcel:s,setParcel:r,building:l,modelAddress:p,session:c})]})},zt=function(e){var t=e.parcel,i=e.modelAddress,s=(e.setParcel,e.building),l=e.street,n=e.lngLat,r=e.session,c=Object(a.useState)(""),d=Object(o.a)(c,2),u=d[0],m=d[1],p=de({type:"streets",id:l}),x=p?p.attributes:{},y=[x.street_prefix,x.street_name,x.street_type].join(" ").trim(),f=Object(a.useState)(""),h=Object(o.a)(f,2),O=(h[0],h[1],Object(a.useState)("")),v=Object(o.a)(O,2),_=v[0],w=v[1],z=Object(a.useState)(""),S=Object(o.a)(z,2),N=S[0],R=S[1],k=["","Apt","Ste","Upper","Lower"],F=Object(a.useState)(k[0]),A=Object(o.a)(F,2),C=A[0],B=A[1],L=Object(a.useState)(""),E=Object(o.a)(L,2),P=E[0],T=E[1],V=[{street_number:u,street_id:l,certificate_number:N,unit_type:""!==C?C:null,unit_number:""!==P?P:null,full_address:"".concat(u," ").concat(y).trim(),notes:_}];Object(a.useEffect)((function(){m(i.attributes.street_number),T(i.attributes.unit_number),B(i.attributes.unit_type)}),[i]);var D=i.attributes;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{className:"bg-gray-300 p-2 mt-2 text-base",children:["Reassigning ",[D.street_number,D.street_prefix,D.street_name,D.street_type,D.unit_type,D.unit_number].join(" ")]}),Object(g.jsxs)("section",{className:"sidebar-section border-b-2",children:[Object(g.jsx)(dt,{title:"DPW House Number Certificate",width:"3/5",children:Object(g.jsx)("input",{type:"text",className:"px-3 py-2",value:N,onChange:function(e){return R(e.target.value)}})}),Object(g.jsx)(bt,{title:"Links to other base units",subtitle:"Adjust these by clicking the map",icon:b.w}),Object(g.jsxs)(mt,{children:[Object(g.jsx)(ut,{title:"Building ID",value:s,readOnly:!0,disabled:!0}),Object(g.jsx)(ut,{title:"Street ID",value:l,readOnly:!0,disabled:!0}),Object(g.jsx)(ut,{title:"Parcel ID",value:t,readOnly:!0,disabled:!0})]}),Object(g.jsx)(bt,{title:"Address with new street assignment",icon:b.a}),Object(g.jsxs)(mt,{children:[Object(g.jsx)(ut,{title:"House number",value:u,onChange:function(e){return m(e.target.value)}}),Object(g.jsx)(ut,{title:"Street name",value:y,disabled:!0,width:"2/3"})]}),Object(g.jsxs)(mt,{children:[Object(g.jsx)(dt,{title:"Unit type",width:"1/3",children:Object(g.jsx)("select",{type:"text",className:"p-2 text-sm",value:C,onChange:function(e){return B(e.target.value)},children:k.map((function(e){return Object(g.jsx)("option",{value:e,children:e},e)}))})}),Object(g.jsx)(ut,{title:"Unit number",width:"2/3",value:P,onChange:function(e){return T(e.target.value)}})]}),Object(g.jsx)(mt,{children:Object(g.jsx)(dt,{title:"Additional notes:",width:"full",children:Object(g.jsx)("textarea",{className:"px-3 py-2 text-sm",value:_,rows:2,type:"text",onChange:function(e){return w(e.target.value)}})})}),""===u&&Object(g.jsx)("h3",{className:"warning p-2 text-sm",children:"You must enter a valid house number."}),Object(g.jsx)("div",{className:"flex items-center justify-around",children:Object(g.jsx)(j,{className:"mx-4 justify-around my-5 p-4",onClick:function(){return function(e,t,i){var a={addresses:e,list_of_addresses:e.map((function(e){return e.full_address})).join("\n"),certificate_number:e.certificate_number,creator:i.username};fetch("https://hook.integromat.com/fgu9lrjc6ps43fdk8s7tdat9ylv20uqg",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(a)}).then((function(e){return console.log(e)}));var s=e.map((function(e){return e.scenario="NewStreetExistingAddress",{geometry:{x:t.lng,y:t.lat,spatialReference:{wkid:4326}},attributes:e}}));Object(ge.a)({url:"https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/address_assignments/FeatureServer/0",features:s,authentication:i}).then((function(e){return console.log(e)}))}(V,n,r)},icon:b.A,children:"Submit address"})})]})]})},St=function(e){var t=e.street,i=e.setStreet,s=e.parcel,l=e.building,n=e.setBuilding,r=e.setParcel,c=e.session,d=e.addresses,u=e.setAddresses,m=(e.lngLat,e.setSelectableLayers),b=Object(a.useState)(null),p=Object(o.a)(b,2),x=p[0],y=p[1];return Object(a.useEffect)((function(){""!=s&&m([k.streets.interaction,k.parcels.interaction]),""==s&&m([k.parcels.interaction])}),[s]),Object(g.jsxs)(g.Fragment,{children:[!s&&Object(g.jsx)("section",{className:"sidebar-section",children:Object(g.jsx)("h2",{children:"Select the parcel that contains the address you want to reassign."})}),s&&Object(g.jsx)(ct,{parcel:s,setAddresses:u,setModelAddress:y,setStreet:i,setBuilding:n}),d.length>1&&Object(g.jsxs)("section",{className:"mt-2 p-2 bg-yellow-100",children:[Object(g.jsx)("h2",{children:"This parcel has more than one address; please choose one for reassignment:"}),Object(g.jsx)("select",{className:"p-2 m-2",onChange:function(e){return y({attributes:d[e.target.value]})},children:d.map((function(e,t){return Object(g.jsxs)("option",{value:t,children:[[e.street_number,e.street_prefix,e.street_name,e.street_type,e.unit_type,e.unit_number].join(" ")," [ #",e.addr_id," ]"]})}))})]}),s&&x&&Object(g.jsx)(zt,{street:t,parcel:s,setParcel:r,building:l,modelAddress:x,session:c})]})},Nt=function(e){var t=e.session,i=e.setSession,s=e.login,l=e.setLogin,n=Object(a.useState)(null),r=Object(o.a)(n,2),c=r[0],d=r[1],u=oe(c),p=Object(o.a)(u,2),y=p[0],f=(p[1],Object(a.useState)("")),h=Object(o.a)(f,2),O=h[0],v=h[1],z=Object(a.useState)(""),S=Object(o.a)(z,2),R=S[0],F=S[1],A=Object(a.useState)(""),C=Object(o.a)(A,2),B=C[0],L=C[1],E=Object(a.useState)([]),P=Object(o.a)(E,2),T=P[0],V=P[1],D=Object(a.useState)(null),M=Object(o.a)(D,2),W=M[0],I=M[1],U=Object(a.useState)([]),H=Object(o.a)(U,2),q=H[0],G=H[1],Y=Object(a.useState)({basemap:"default"}),J=Object(o.a)(Y,2),Z=J[0],Q=J[1],$=[{name:"New building address",description:"Assign a new primary or unit address to a building.",selectableLayers:[k.buildings.interaction],icon:b.A,basemap:"default"},{name:"New utility address",description:"Assign an address for a new utility - not linked to any parcel or building.",selectableLayers:[k.streets.interaction],icon:b.f,basemap:"satellite"},{name:"New condo address",description:"Assign an address for a condominium.",selectableLayers:[k.parcels.interaction],icon:b.t,basemap:"default"},{name:"New address for pending parcel revision",description:"Assign an address for a new parcel split",selectableLayers:[k.parcels.interaction],icon:b.l,basemap:"default"},{name:"New street for existing address",description:"Change a current address to a new street segment",selectableLayers:[k.addresses.interaction],icon:b.B,basemap:"default"}],K=Object(a.useState)(null),X=Object(o.a)(K,2),ee=X[0],te=X[1],ie=Object(a.useState)(null),ae=Object(o.a)(ie,2),se=ae[0],le=ae[1];Object(a.useEffect)((function(){v(""),F(""),L(""),V([]),I(null),le(ee?ee.selectableLayers:[])}),[ee]);var ne=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{children:"This tool is for assigning or requesting new addresses."}),Object(g.jsx)("p",{children:"Please choose from the following scenarios:"})]});return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_,{session:t,setSession:i,login:s,setLogin:l,currentApp:"assignment"}),!ee&&Object(g.jsx)(N,{app:x.assignment,introduction:ne,startsOpen:!0}),Object(g.jsxs)(w,{title:"Assignment",children:[ee&&Object(g.jsxs)("div",{className:"bg-gray-300 p-2 flex items-center justify-between",children:[Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("div",{className:"flex items-center justify-around w-12",children:Object(g.jsx)(m.a,{icon:ee.icon,className:"text-2xl mr-2"})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:ee.name}),Object(g.jsx)("p",{children:ee.description})]})]}),Object(g.jsx)(j,{icon:b.J,onClick:function(){return te(null)},children:"Back"})]}),!ee&&$.map((function(e){return Object(g.jsxs)("div",{className:"bg-gray-300 my-4 p-2 flex items-center hover:bg-gray-200",onClick:function(){return te(e)},children:[Object(g.jsx)("div",{className:"flex items-center justify-around w-12",children:Object(g.jsx)(m.a,{icon:e.icon,className:"text-2xl mr-2"})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:e.name}),Object(g.jsx)("p",{children:e.description})]})]},e.name)})),ee&&"New building address"===ee.name&&Object(g.jsx)(xt,{building:O,street:B,setStreet:L,parcel:R,setParcel:F,setSelectableLayers:le,session:t}),ee&&"New utility address"===ee.name&&Object(g.jsx)(gt,{lngLat:W,street:B,setStreet:L,addresses:T,setAddresses:V,setSelectableLayers:le,session:t}),ee&&"New address for pending parcel revision"===ee.name&&Object(g.jsx)(vt,{lngLat:W,street:B,setStreet:L,parcel:R,setParcel:F,addresses:T,setAddresses:V,setSelectableLayers:le,session:t}),ee&&"New condo address"===ee.name&&Object(g.jsx)(wt,{building:O,setBuilding:v,lngLat:W,street:B,setStreet:L,parcel:R,setParcel:F,addresses:T,setAddresses:V,setSelectableLayers:le,session:t}),ee&&"New street for existing address"===ee.name&&Object(g.jsx)(St,{building:O,setBuilding:v,lngLat:W,street:B,setStreet:L,parcel:R,setParcel:F,addresses:T,setAddresses:V,setSelectableLayers:le,session:t})]}),Object(g.jsxs)("main",{children:[ee&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("section",{className:"bg-gray-100 flex justify-start px-2",children:[Object(g.jsx)(ht,{options:Z,setOptions:Q,session:t}),Object(g.jsx)(st,{setSearchValue:d})]}),Object(g.jsx)("section",{className:"bg-gray-100 flex justify-start text-base",children:t&&Object(g.jsx)(lt,{center:q,session:t})})]}),ee&&Object(g.jsx)(at,{geocodeResult:y,mode:ee,building:O,parcel:R,street:B,setBuilding:v,setParcel:F,setStreet:L,selectableLayers:se,lngLat:W,setLngLat:I,addresses:T,setCenter:G,basemap:Z.basemap}),!t&&Object(g.jsx)("section",{className:"bg-gray-300 py-3 px-3",children:Object(g.jsx)("p",{children:"Log in for additional address location information."})})]})]})};var Rt=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),i=t[0],s=t[1],l=Object(a.useState)(!1),n=Object(o.a)(l,2),d=n[0],m=n[1];return Object(g.jsx)(r.BrowserRouter,{basename:"/base-unit-tools",children:Object(g.jsx)(u.a,{id:"UA-107915075-11",debug:!0,children:Object(g.jsx)(Se,{session:i,setSession:s,children:Object(g.jsxs)(c.g,{children:[Object(g.jsx)(c.d,{path:"/explorer",children:Object(g.jsx)(Oe,{session:i,setSession:s,login:d,setLogin:m})}),Object(g.jsx)(c.d,{path:"/validator",children:Object(g.jsx)(Ae,{session:i,setSession:s,login:d,setLogin:m})}),i&&Object(g.jsx)(c.d,{path:"/mailer",children:Object(g.jsx)(Qe,{session:i,setSession:s,login:d,setLogin:m})}),i&&Object(g.jsx)(c.d,{path:"/assignment",children:Object(g.jsx)(Nt,{session:i,setSession:s,login:d,setLogin:m})}),Object(g.jsx)(c.d,{path:"/geocoder",children:Object(g.jsx)(we,{session:i,setSession:s,login:d,setLogin:m})}),i&&Object(g.jsx)(c.d,{path:"/linker",children:Object(g.jsx)(it,{session:i,setSession:s,login:d,setLogin:m})}),Object(g.jsx)(c.d,{path:"/",children:Object(g.jsx)(S,{session:i,setSession:s,login:d,setLogin:m})})]})})})})},kt=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,123)).then((function(t){var i=t.getCLS,a=t.getFID,s=t.getFCP,l=t.getLCP,n=t.getTTFB;i(e),a(e),s(e),l(e),n(e)}))};n.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(Rt,{})}),document.getElementById("root")),kt()},72:function(e){e.exports=JSON.parse('{"11":"Educational","13":"Religious and Civic","14":"Governmental","21":"Retail Building","23":"Office Building","31":"Manufacturing","32":"Wholesale Trade","33":"Warehouse and Storage","41":"Transportation and Utility","42":"Delivery Services","51":"Health and Social Services","52":"Hospital","53":"Residential Care Facility","61":"Leisure Activity","63":"Hotel and Motel","65":"Eating and Drinking","71":"Agricultural","81":"Single-Family ","82":"Attached Condo","83":"Multi-Family ","84":"Mobile Home","91":"Movie Theater","92":"Library","93":"Dormitory Quarters","94":"FuneralServices","95":"Parking Garage"}')},88:function(e,t,i){}},[[115,1,2]]]);
//# sourceMappingURL=main.e193274a.chunk.js.map