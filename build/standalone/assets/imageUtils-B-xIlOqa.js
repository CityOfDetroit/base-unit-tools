const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gif-B4Csy9cg.js","assets/index-DksN7PFj.js","assets/index-clTyOOP9.css","assets/apng-IaN5WwTe.js","assets/_commonjsHelpers-DCkdB7M8.js"])))=>i.map(i=>d[i]);
import{_ as s,a5 as d,d6 as m,U as f,aU as p,s as w}from"./index-DksN7PFj.js";let i=null,u=!0;function T(n,e,t,a){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(u)try{return new ImageData(n,e,t)}catch{u=!1}const r=g(e,t,a);return r.data.set(n,0),r}function y(){return i||(i=document.createElement("canvas"),i.width=1,i.height=1),i}function g(n,e,t){return t||(t=y()),t.getContext("2d").createImageData(n,e)}async function _(n,e){const t=window.URL.createObjectURL(n);try{const{data:a}=await f(t,{...e,responseType:"image"});return a}catch(a){throw p(a)?a:new w("invalid-image",`Could not fetch requested image at ${t}`)}finally{window.URL.revokeObjectURL(t)}}async function v(n,e){const{arrayBuffer:t,mediaType:a}=await h(n,e),r=a==="image/png";if(a==="image/gif"){const{isAnimatedGIF:o,parseGif:c}=await s(()=>import("./gif-B4Csy9cg.js"),__vite__mapDeps([0,1,2]));if(o(t))return c(t,e)}if(r){const{isAnimatedPNG:o,parseApng:c}=await s(()=>import("./apng-IaN5WwTe.js"),__vite__mapDeps([3,4,1,2]));if(o(t))return c(t,e)}return _(new Blob([t],{type:a}),e)}async function h(n,e){var r;const t=d(n);if(t!=null&&t.isBase64)return{arrayBuffer:m(t.data),mediaType:t.mediaType};const a=await f(n,{responseType:"array-buffer",...e});return{arrayBuffer:a.data,mediaType:((r=a.getHeader)==null?void 0:r.call(a,"Content-Type"))??""}}export{T as c,v as p};
